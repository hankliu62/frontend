<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>卡鲁秋 - 前端小工具</title><link rel="icon" href="/frontend/favicon.ico"/><meta name="description" content="卡鲁秋的前端工具网站，提供了一系列实用的前端开发工具和功能，技术网站汇总，旨在帮助开发者更加高效地进行前端开发。"/><meta name="keywords" content="前端工具,前端开发,前端开发工具,前端开发工具集合,toolbox,frontend,卡鲁秋,Hank,HankLiu"/><meta name="author" content="Hank.Liu"/><meta name="next-head-count" content="7"/><link rel="stylesheet" href="/frontend/styles/animate.css/@4.1.1/animate.css"/><link rel="preload" href="/frontend/_next/static/css/48e12760546808a2.css" as="style"/><link rel="stylesheet" href="/frontend/_next/static/css/48e12760546808a2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/frontend/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/frontend/_next/static/chunks/webpack-6fff9d468fdb49d1.js" defer=""></script><script src="/frontend/_next/static/chunks/framework-0e8d27528ba61906.js" defer=""></script><script src="/frontend/_next/static/chunks/main-d236bc00457e5dc2.js" defer=""></script><script src="/frontend/_next/static/chunks/pages/_app-bc774d0c387ddf39.js" defer=""></script><script src="/frontend/_next/static/chunks/4853-4e02ebf21637e379.js" defer=""></script><script src="/frontend/_next/static/chunks/3239-4699acf95684b42e.js" defer=""></script><script src="/frontend/_next/static/chunks/1664-e769dc1505626ddd.js" defer=""></script><script src="/frontend/_next/static/chunks/pages/articles/%5Bid%5D-15cbf11aeca29499.js" defer=""></script><script src="/frontend/_next/static/a3cZ70FNaLN28WmGwcIOw/_buildManifest.js" defer=""></script><script src="/frontend/_next/static/a3cZ70FNaLN28WmGwcIOw/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex h-full min-h-[100vh] w-full flex-col" style="flex-direction:column;min-height:100vh"><main class="flex flex-1 grow-[1] flex-col" style="flex:1"><div class="flex h-full flex-1 flex-col" style="position:relative"><div class="flex space-x-6 bg-white p-6"><div class="flex-1 overflow-x-hidden"><div class="ant-card ant-card-bordered article-card min-h-full !border-[#d9d9d9] css-1okl62o"><div class="ant-card-body"><article><div class="mx-auto mb-[36px] max-w-[1045px] px-[30px] lg:mb-[52px] lg:flex lg:px-0"><div id="banner" class="media-wrapper image-media-wrapper w-full overflow-hidden rounded-[8px] border-[1px] border-solid border-[#1D2129] lg:ml-0 lg:h-[320px] lg:w-[500px]"><div class="hidden before"></div><div class="hidden after"></div><div class="scale-103 h-full w-full border-[8px] border-solid border-white lg:scale-100 cover-wrapper"><img class="h-full w-full rounded-md object-cover cover" src="/frontend/dashboard/images/banner.png" alt=""/></div></div><div class="mt-[60px] overflow-hidden lg:ml-[32px] lg:mt-0 lg:flex-1"><h1 class="leading-130 montserrat-bold mb-[9px] text-[36px] font-medium text-[#1D2129] lg:mb-[8px]">Webpack4升级到Webpack5</h1><div class="mb-[9px] flex whitespace-nowrap lg:mb-[10px]"><div class="leading-120 cursor-pointer truncate text-[24px] font-normal text-[#1D2129] underline-offset-2 hover:underline lg:text-[20px]" aria-hidden="true"># VOL.<!-- -->63</div><div class="leading-120 ml-[48px] text-[24px] font-normal text-[#1D2129] lg:ml-[32px] lg:text-[20px]">2022/11/10</div></div><div class="mb-[12px] flex flex-wrap lg:mb-0"><div class="leading-150 mb-[12px] mr-[18px] rounded-[30px] border border-solid border-[#1D2129] px-[24px] py-[6px] text-[20px] font-normal text-[#1D2129] lg:mb-[12px] lg:mr-[10px] lg:rounded-[20px] lg:px-[16px] lg:py-[4px] lg:text-[14px]">blog</div><div class="leading-150 mb-[12px] mr-[18px] rounded-[30px] border border-solid border-[#1D2129] px-[24px] py-[6px] text-[20px] font-normal text-[#1D2129] lg:mb-[12px] lg:mr-[10px] lg:rounded-[20px] lg:px-[16px] lg:py-[4px] lg:text-[14px]">webpack</div></div><div class="my-[30px] hidden w-[213px] border border-[#1D2129] lg:mb-[20px] lg:mt-[8px] lg:block"></div><div class="lg:rounded-0 rounded-[12px] bg-white/30 p-[36px] lg:flex lg:bg-transparent lg:p-0"><div class="float-left h-[118px] w-[118px] lg:float-none lg:h-[112px] lg:w-[112px]"><img src="https://avatars.githubusercontent.com/u/8088864?v=4" class="h-full w-full rounded-[8px] object-cover lg:rounded-[12px]" alt=""/></div><div class="lg:ml-[32px] lg:flex-1 lg:overflow-hidden"><div class="mb-[10px] flex h-[118px] flex-col justify-center pl-[36px] lg:h-auto lg:flex-row lg:items-center lg:justify-between lg:pl-0"><div class="leading-130 montserrat-bold mb-[12px] w-full truncate text-[30px] font-medium text-[#1D2129] lg:mb-0 lg:flex-1 lg:text-[24px]">hankliu62</div><a class="leading-170 ml-0 whitespace-pre-wrap text-[20px] font-normal !text-[#1D2129] !underline hover:!text-[#1D2129] hover:!underline focus:!text-[#1D2129] lg:ml-[5px] lg:text-[14px]" href="https://github.com/hankliu62" target="_blank" rel="noreferrer">TA的个人名片</a></div><div class="leading-170 text-[20px] font-normal text-[#4E5969] lg:text-[14px]">HankLiu前端开发工程师，精通前端，涉猎后端，对前端有着浓厚的兴趣，希望能够在前端这条路上一直走下去。努力去听风的声音，不必在意风的方向。</div></div></div></div></div><div class="ant-divider css-1okl62o ant-divider-horizontal !mt-0 !border-[#bfc3c7]" role="separator"></div><section><div><div class="ant-skeleton ant-skeleton-active css-1okl62o"><div class="ant-skeleton-content"><h3 class="ant-skeleton-title" style="width:38%"></h3><ul class="ant-skeleton-paragraph"><li></li><li></li><li style="width:61%"></li></ul></div></div></div></section></article></div></div></div><div class="w-64 bg-white"><div><div class=""><div class="ant-collapse ant-collapse-icon-position-end question-menus-collapse css-1okl62o"><div class="ant-collapse-item ant-collapse-item-active"><div class="ant-collapse-header" aria-expanded="true" aria-disabled="false" role="button" tabindex="0"><div class="ant-collapse-expand-icon"><span role="img" aria-label="right" class="anticon anticon-right ant-collapse-arrow"><svg viewBox="64 64 896 896" focusable="false" style="-ms-transform:rotate(90deg);transform:rotate(90deg)" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></div><span class="ant-collapse-header-text"><span class="text-base">目录</span></span><div class="ant-collapse-extra"><div class="-mr-2">收起</div></div></div><div class="ant-collapse-content ant-collapse-content-active"><div class="ant-collapse-content-box"><ul class="max-h-[620px] list-none space-y-3 overflow-y-auto text-slate-500 dark:text-slate-400"><li id="## 前言" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base !border-sky-500"><a class="w-full overflow-hidden !text-[#515767] !text-sky-500" href="/frontend/articles/63#%E5%89%8D%E8%A8%80"><div class="truncate" style="padding-left:16px">前言</div></a></li><li id="## 记录" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%AE%B0%E5%BD%95"><div class="truncate" style="padding-left:16px">记录</div></a></li><li id="### Webpack v5 VS v4 模块 ID" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#webpack-v5-vs-v4-%E6%A8%A1%E5%9D%97-id"><div class="truncate" style="padding-left:32px">Webpack v5 VS v4 模块 ID</div></a></li><li id="### Webpack v5 VS v4 Chunk ID" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#webpack-v5-vs-v4-chunk-id"><div class="truncate" style="padding-left:32px">Webpack v5 VS v4 Chunk ID</div></a></li><li id="### 真正的内容哈希" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E7%9C%9F%E6%AD%A3%E7%9A%84%E5%86%85%E5%AE%B9%E5%93%88%E5%B8%8C"><div class="truncate" style="padding-left:32px">真正的内容哈希</div></a></li><li id="## 升级问题记录" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E5%8D%87%E7%BA%A7%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95"><div class="truncate" style="padding-left:16px">升级问题记录</div></a></li><li id="### babel-plugin-import配置babel按需引入antd模块，编译后报错.bezierEasingMixin()" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#babel-plugin-import%E9%85%8D%E7%BD%AEbabel%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5antd%E6%A8%A1%E5%9D%97%E7%BC%96%E8%AF%91%E5%90%8E%E6%8A%A5%E9%94%99.beziereasingmixin()"><div class="truncate" style="padding-left:32px">babel-plugin-import配置babel按需引入antd模块，编译后报错.bezierEasingMixin()</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### Error evaluating function `unit`: the first argument to unit must be a number. Have you forgotten parenthesis?" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#error-evaluating-function-%60unit%60:-the-first-argument-to-unit-must-be-a-number.-have-you-forgotten-parenthesis?"><div class="truncate" style="padding-left:32px">Error evaluating function `unit`: the first argument to unit must be a number. Have you forgotten parenthesis?</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### Module not found: Error: Can&#x27;t resolve &#x27;antd-mobile/lib/tab-bar/style&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5&#x27;" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#module-not-found:-error:-can&#x27;t-resolve-&#x27;antd-mobile/lib/tab-bar/style&#x27;-in-&#x27;/users/xxx/workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5&#x27;"><div class="truncate" style="padding-left:32px">Module not found: Error: Can&#x27;t resolve &#x27;antd-mobile/lib/tab-bar/style&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5&#x27;</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### Module not found: Error: Can&#x27;t resolve &#x27;antd-mobile/lib/flex&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5/pages/brief&#x27;" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#module-not-found:-error:-can&#x27;t-resolve-&#x27;antd-mobile/lib/flex&#x27;-in-&#x27;/users/xxx/workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5/pages/brief&#x27;"><div class="truncate" style="padding-left:32px">Module not found: Error: Can&#x27;t resolve &#x27;antd-mobile/lib/flex&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5/pages/brief&#x27;</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### Module not found: Error: Can&#x27;t resolve &#x27;tsparticles/Plugins/PolygonMask/Enums&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/react-particles-js/cjs&#x27;" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#module-not-found:-error:-can&#x27;t-resolve-&#x27;tsparticles/plugins/polygonmask/enums&#x27;-in-&#x27;/users/xxx/workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/react-particles-js/cjs&#x27;"><div class="truncate" style="padding-left:32px">Module not found: Error: Can&#x27;t resolve &#x27;tsparticles/Plugins/PolygonMask/Enums&#x27; in &#x27;/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/react-particles-js/cjs&#x27;</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### 1 ERROR in child compilations (Use &#x27;stats.children: true&#x27; resp. &#x27;--stats-children&#x27; for more details)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#1-error-in-child-compilations-(use-&#x27;stats.children:-true&#x27;-resp.-&#x27;--stats-children&#x27;-for-more-details)"><div class="truncate" style="padding-left:32px">1 ERROR in child compilations (Use &#x27;stats.children: true&#x27; resp. &#x27;--stats-children&#x27; for more details)</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### ERROR in [eslint] Unexpected token &#x27;:&#x27;" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#error-in-[eslint]-unexpected-token-&#x27;:&#x27;"><div class="truncate" style="padding-left:32px">ERROR in [eslint] Unexpected token &#x27;:&#x27;</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### ERROR in [eslint] ESLint is not a constructor" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#error-in-[eslint]-eslint-is-not-a-constructor"><div class="truncate" style="padding-left:32px">ERROR in [eslint] ESLint is not a constructor</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### [DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS] DeprecationWarning: optimizeChunkAssets is deprecated (use Compilation.hooks.processAssets instead and use one of Compilation.PROCESS_ASSETS_STAGE_* as stage option)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#[dep_webpack_compilation_optimize_chunk_assets]-deprecationwarning:-optimizechunkassets-is-deprecated-(use-compilation.hooks.processassets-instead-and-use-one-of-compilation.process_assets_stage_*-as-stage-option)"><div class="truncate" style="padding-left:32px">[DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS] DeprecationWarning: optimizeChunkAssets is deprecated (use Compilation.hooks.processAssets instead and use one of Compilation.PROCESS_ASSETS_STAGE_* as stage option)</div></a></li><li id="#### 解决方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">解决方案:</div></a></li><li id="### options has an unknown property &#x27;disableHostCheck&#x27;. These properties are valid:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#options-has-an-unknown-property-&#x27;disablehostcheck&#x27;.-these-properties-are-valid:"><div class="truncate" style="padding-left:32px">options has an unknown property &#x27;disableHostCheck&#x27;. These properties are valid:</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### options has an unknown property &#x27;overlay&#x27;. These properties are valid:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#options-has-an-unknown-property-&#x27;overlay&#x27;.-these-properties-are-valid:"><div class="truncate" style="padding-left:32px">options has an unknown property &#x27;overlay&#x27;. These properties are valid:</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### [webpack-cli] TypeError: Cannot read properties of undefined (reading &#x27;tap&#x27;)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#[webpack-cli]-typeerror:-cannot-read-properties-of-undefined-(reading-&#x27;tap&#x27;)"><div class="truncate" style="padding-left:32px">[webpack-cli] TypeError: Cannot read properties of undefined (reading &#x27;tap&#x27;)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### export &#x27;default&#x27; (imported as &#x27;arrayMove&#x27;) was not found in &#x27;array-move&#x27; (possible exports: arrayMoveImmutable, arrayMoveMutable)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#export-&#x27;default&#x27;-(imported-as-&#x27;arraymove&#x27;)-was-not-found-in-&#x27;array-move&#x27;-(possible-exports:-arraymoveimmutable,-arraymovemutable)"><div class="truncate" style="padding-left:32px">export &#x27;default&#x27; (imported as &#x27;arrayMove&#x27;) was not found in &#x27;array-move&#x27; (possible exports: arrayMoveImmutable, arrayMoveMutable)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### export &#x27;createModel&#x27; (imported as &#x27;createModel&#x27;) was not found in &#x27;hox&#x27; (possible exports: HoxRoot, createGlobalStore, createStore, withStore)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#export-&#x27;createmodel&#x27;-(imported-as-&#x27;createmodel&#x27;)-was-not-found-in-&#x27;hox&#x27;-(possible-exports:-hoxroot,-createglobalstore,-createstore,-withstore)"><div class="truncate" style="padding-left:32px">export &#x27;createModel&#x27; (imported as &#x27;createModel&#x27;) was not found in &#x27;hox&#x27; (possible exports: HoxRoot, createGlobalStore, createStore, withStore)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="#### export &#x27;DropTarget&#x27; (imported as &#x27;DropTarget&#x27;) was not found in &#x27;react-dnd&#x27; (possible exports: DndContext, DndProvider, DragPreviewImage, useDrag, useDragDropManager, useDragLayer, useDrop)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#export-&#x27;droptarget&#x27;-(imported-as-&#x27;droptarget&#x27;)-was-not-found-in-&#x27;react-dnd&#x27;-(possible-exports:-dndcontext,-dndprovider,-dragpreviewimage,-usedrag,-usedragdropmanager,-usedraglayer,-usedrop)"><div class="truncate" style="padding-left:48px">export &#x27;DropTarget&#x27; (imported as &#x27;DropTarget&#x27;) was not found in &#x27;react-dnd&#x27; (possible exports: DndContext, DndProvider, DragPreviewImage, useDrag, useDragDropManager, useDragLayer, useDrop)</div></a></li><li id="### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0." class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#deprecation-using-/-for-division-is-deprecated-and-will-be-removed-in-dart-sass-2.0.0."><div class="truncate" style="padding-left:32px">Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.  node_modules/@xxx/platform-common/lib/style/commons/layouts.scss" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#deprecation-using-/-for-division-is-deprecated-and-will-be-removed-in-dart-sass-2.0.0.--node_modules/@xxx/platform-common/lib/style/commons/layouts.scss"><div class="truncate" style="padding-left:32px">Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.  node_modules/@xxx/platform-common/lib/style/commons/layouts.scss</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### (77:3) autoprefixer: Second Autoprefixer control comment was ignored. Autoprefixer applies control comment to whole block, not to next rules." class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#(77:3)-autoprefixer:-second-autoprefixer-control-comment-was-ignored.-autoprefixer-applies-control-comment-to-whole-block,-not-to-next-rules."><div class="truncate" style="padding-left:32px">(77:3) autoprefixer: Second Autoprefixer control comment was ignored. Autoprefixer applies control comment to whole block, not to next rules.</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### Should not import the named export &#x27;version&#x27; (imported as &#x27;version&#x27;) from default-exporting module (only default export is available soon)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#should-not-import-the-named-export-&#x27;version&#x27;-(imported-as-&#x27;version&#x27;)-from-default-exporting-module-(only-default-export-is-available-soon)"><div class="truncate" style="padding-left:32px">Should not import the named export &#x27;version&#x27; (imported as &#x27;version&#x27;) from default-exporting module (only default export is available soon)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="##### 1. Change the following" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#1.-change-the-following"><div class="truncate" style="padding-left:64px">1. Change the following</div></a></li><li id="##### 2. webpack加入下列属性:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#2.-webpack%E5%8A%A0%E5%85%A5%E4%B8%8B%E5%88%97%E5%B1%9E%E6%80%A7:"><div class="truncate" style="padding-left:64px">2. webpack加入下列属性:</div></a></li><li id="### hard-source-webpack-plugin TypeError: Cannot read properties of undefined (reading &#x27;tap&#x27;)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#hard-source-webpack-plugin-typeerror:-cannot-read-properties-of-undefined-(reading-&#x27;tap&#x27;)"><div class="truncate" style="padding-left:32px">hard-source-webpack-plugin TypeError: Cannot read properties of undefined (reading &#x27;tap&#x27;)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="#### 最终方案:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E6%9C%80%E7%BB%88%E6%96%B9%E6%A1%88:"><div class="truncate" style="padding-left:48px">最终方案:</div></a></li><li id="### Eslint error  Parsing error: require() of ES Module  dynamic import() which is available in all CommonJS modules" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#eslint-error--parsing-error:-require()-of-es-module--dynamic-import()-which-is-available-in-all-commonjs-modules"><div class="truncate" style="padding-left:32px">Eslint error  Parsing error: require() of ES Module  dynamic import() which is available in all CommonJS modules</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="### BREAKING CHANGE: No more changes should happen to Compilation.assets after sealing the Compilation." class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#breaking-change:-no-more-changes-should-happen-to-compilation.assets-after-sealing-the-compilation."><div class="truncate" style="padding-left:32px">BREAKING CHANGE: No more changes should happen to Compilation.assets after sealing the Compilation.</div></a></li><li id="#### 可能原因:" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E5%8F%AF%E8%83%BD%E5%8E%9F%E5%9B%A0:"><div class="truncate" style="padding-left:48px">可能原因:</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="#### HMR失效(Update failed: ChunkLoadError: Loading hot update chunk 179 failed.)" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#hmr%E5%A4%B1%E6%95%88(update-failed:-chunkloaderror:-loading-hot-update-chunk-179-failed.)"><div class="truncate" style="padding-left:48px">HMR失效(Update failed: ChunkLoadError: Loading hot update chunk 179 failed.)</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="#### 疑问：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E7%96%91%E9%97%AE"><div class="truncate" style="padding-left:48px">疑问：</div></a></li><li id="### CICD持久化缓存优化" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#cicd%E6%8C%81%E4%B9%85%E5%8C%96%E7%BC%93%E5%AD%98%E4%BC%98%E5%8C%96"><div class="truncate" style="padding-left:32px">CICD持久化缓存优化</div></a></li><li id="#### 原因分析：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90"><div class="truncate" style="padding-left:48px">原因分析：</div></a></li><li id="#### 解决方案：" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><div class="truncate" style="padding-left:48px">解决方案：</div></a></li><li id="##### 问题一" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E9%97%AE%E9%A2%98%E4%B8%80"><div class="truncate" style="padding-left:64px">问题一</div></a></li><li id="##### 问题二" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E9%97%AE%E9%A2%98%E4%BA%8C"><div class="truncate" style="padding-left:64px">问题二</div></a></li><li id="## 参考文献" class="border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base"><a class="w-full overflow-hidden !text-[#515767] !hover:text-slate-600 !dark:hover:text-slate-300" href="/frontend/articles/63#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><div class="truncate" style="padding-left:16px">参考文献</div></a></li></ul></div></div></div></div></div></div></div></div></div><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/63","id":1443372566,"node_id":"I_kwDOBiJZIc5WCB4W","number":63,"title":"Webpack4升级到Webpack5","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":688950687,"node_id":"MDU6TGFiZWw2ODg5NTA2ODc=","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/blog","name":"blog","color":"1677ff","default":false,"description":"博客文章"},{"id":6536123165,"node_id":"LA_kwDOBiJZIc8AAAABhZVTHQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/webpack","name":"webpack","color":"923874","default":false,"description":"分类-Webpack相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-11-10T07:11:02Z","updated_at":"2024-04-08T05:20:06Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"## 前言\r\n\r\n最近接手了公司内部webpack相关的依赖包，于是打算优化一波。考虑到webpack5已经正式发布近两年，跟webpack相关的依赖包应该适配的差不多了，于是打算先把webpack4升级到webpack5，然后基于webpack5再进行优化。\r\n升级前用的是 `\"webpack\": \"^4.39.3\" `，升级后用的是 `\"webpack\": \"^5.74.0\"` 。\r\n\r\n升级webpack的方法是先一键升级所有的依赖包，然后一个一个地去解决运行过程中的报错。\r\n\r\n首先，使用**npm-check-updates**工具：\r\n```\r\nnpx npm-check-updates -u\r\n```\r\n\r\n然后在项目中执行 `npx npm-check-updates -u` ，这样项目的package.json会把所有的依赖包都更新到最新版本，然后执行 yarn 。升级完就可以开启漫长的debug之旅了。\r\n\r\n## 记录\r\n\r\n### Webpack v5 VS v4 模块 ID\r\n\r\nWebpack v4 及之前的 moduleId 默认是自增的，例如 0.xxx.js、1.xxx.css、2.xxx.js 如果更改模块数量(即使内容没有变化)，也会导致模块文件重新发生改变，不利于长期缓存。\r\n不同的版本也提供了不同的解决方案，webpack v4 之前使用 HashedModuleIdsPlugin 插件覆盖默认的模块 ID 规则，在 webpack v4 中可以配置 optimization.moduleIds = 'hashed' 解决。这几种方案都是使用模块路径生成的 hash 做为 moduleId。\r\nWebpack v5 生产环境默认 optimization.moduleIds='deterministic' 无需更改。\r\n\r\n### Webpack v5 VS v4 Chunk ID\r\n\r\nwebpack v4 及之前的 chunkId 默认也是递增的，如果在 entry 配置中新增或删除一个元素，chunkId 也会随着递增或递减。\r\nwebpack v4 之前使用 NamedChunksPlugin 插件覆盖默认的 chunkId 规则，在 webpack v4 中可以配置 optimization.chunkIds = 'named' 解决。\r\n\r\nWebpack v5 生产环境默认 optimization.chunkIds='deterministic' 无需更改。\r\n\r\n### 真正的内容哈希\r\n\r\n另外，当使用 `[contenthash]` 时，webpack5 将使用真正的文件内容做为哈希值，这个类似于协商缓存 Etag，不一样的是还有一些优化，如果你只是删除了代码中的一些注释或重新命名变量，而这种情况代码逻辑是没有修改的，这些变化在压缩后是不可见的，不会导致 `[contenthash]` 也发生变化。\r\n如果是从 webpack v3 升级到 v5 的，HashedModuleIdsPlugin、NamedChunksPlugin 这些插件是可以去掉的，webpack v5 环境默认开启新的算法，无需再配置。\r\n参考文档 Webpack release 日志记录 — 重大变更：长期缓存[5]。\r\n\r\nhttps://www.51cto.com/article/670178.html\r\n\r\n## 升级问题记录\r\n\r\n### babel-plugin-import配置babel按需引入antd模块，编译后报错.bezierEasingMixin()\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201014433-535d239c-e82a-4f07-8eaf-450cc4e8e77f.png)\r\n\r\n\r\n#### 解决方案：\r\n\r\n`https://github.com/ant-design/ant-motion/issues/44`\r\n\r\nless-loader 添加如下的options参数:\r\n\r\n``` webpack.config.js\r\n{\r\n    loader: 'less-loader',\r\n    options: {\r\n      lessOptions: {\r\n        javascriptEnabled: true\r\n      },\r\n    }\r\n},\r\n```\r\n\r\n### Error evaluating function `unit`: the first argument to unit must be a number. Have you forgotten parenthesis?\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201014699-0da66a81-2d81-4e22-89fe-ff8f287b7537.png)\r\n\r\n#### 解决方案:\r\nhttps://blog.csdn.net/LiaoFengJi/article/details/113878788\r\n`https://github.com/ant-design/ant-design/issues/8162 `\r\n\r\nless-loader 添加如下的options参数(`math: 'always'`): \r\n\r\n``` webpack.config.js\r\n{\r\n    loader: 'less-loader',\r\n    options: {\r\n      lessOptions: {\r\n        javascriptEnabled: true,\r\n        math: 'always',\r\n      }\r\n    }\r\n},\r\n```\r\n\r\n### Module not found: Error: Can't resolve 'antd-mobile/lib/tab-bar/style' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5'\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201014977-66a13893-6952-4f7f-8764-83c88c2d2f04.png)\r\n\r\n\r\n#### 解决方案:\r\n\r\nhttps://mobile.ant.design/zh/guide/import-on-demand\r\n\r\n修改按需加载babel.config.js文件，如下所示：\r\n\r\n``` babel.config.js\r\nmodule.exports = {\r\n  \"plugins\": [\r\n    [\"import\", { \"libraryName\": \"antd-mobile\", \"libraryDirectory\": \"es/components\", \"style\": false}]\r\n  ]\r\n}\r\n```\r\n\r\n### Module not found: Error: Can't resolve 'antd-mobile/lib/flex' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5/pages/brief'\r\n\r\n#### 解决方案：\r\nantd-mobile@4中使用`Grid` 组件 代替 `Flex` 组件\r\n\r\n``` tsx\r\n\u003cGrid columns={2}\u003e\r\n    \u003cGrid.Item\u003e\r\n      111\r\n    \u003c/Grid.Item\u003e\r\n    \u003cGrid.Item\u003e\r\n      222\r\n    \u003c/Grid.Item\u003e\r\n\u003c/Grid\u003e\r\n```\r\n\r\n### Module not found: Error: Can't resolve 'tsparticles/Plugins/PolygonMask/Enums' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/react-particles-js/cjs'\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201015389-d6dc20d5-fe2d-4635-8b86-8885bce2af40.png)\r\n\r\n\r\n#### 解决方案:\r\n\r\n`https://github.com/wufe/react-particles-js/issues/185`\r\n\r\n[react-particles-js](https://github.com/wufe/react-particles-js) 不再进行更新维护，替换成使用[react-tsparticles](https://www.npmjs.com/package/react-tsparticles) \r\n\r\n### 1 ERROR in child compilations (Use 'stats.children: true' resp. '--stats-children' for more details)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201015654-1c768f7b-d871-47cb-ba01-d2e5d1803721.png)\r\n\r\n#### 解决方案:\r\n暂无\r\n\r\n### ERROR in [eslint] Unexpected token ':'\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201015836-ddf1148e-fe0f-46c3-8ceb-1332203ddf76.png)\r\n\r\n#### 解决方案:\r\n\r\nwebpack5中使用`eslint-webpack-plugin`代替`eslint-loader`\r\n\r\n``` webpack.config.js\r\nconst ESLintWebpackPlugin = require('eslint-webpack-plugin')\r\n\r\n// TODO: commit 之前会eslint提交的代码，没必要使用这个plugin，耗时\r\n\r\nnew ESLintWebpackPlugin({\r\n    context: path.resolve(__dirname, 'src'), // 文件根目录\r\n    extensions: ['js', 'jsx', 'ts', 'tsx'],\r\n}),\r\n```\r\n\r\n### ERROR in [eslint] ESLint is not a constructor\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201016747-45208646-638a-4de7-8893-b1dff549380a.png)\r\n\r\n#### 解决方案:\r\n\r\nhttps://blog.csdn.net/LIZHUOLONG1/article/details/126021895\r\n`https://github.com/webpack-contrib/eslint-webpack-plugin/issues/147`\r\n\r\nwebpack5中使用`eslint-webpack-plugin`代替`eslint-loader`\r\n\r\n``` webpack.config.js\r\nconst ESLintWebpackPlugin = require('eslint-webpack-plugin')\r\n\r\n// TODO: commit 之前会eslint提交的代码，没必要使用这个plugin，耗时\r\n\r\nnew ESLintWebpackPlugin({\r\n    context: path.resolve(__dirname, 'src'), // 文件根目录\r\n    extensions: ['js', 'jsx', 'ts', 'tsx'],\r\n}),\r\n```\r\n\r\n### [DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS] DeprecationWarning: optimizeChunkAssets is deprecated (use Compilation.hooks.processAssets instead and use one of Compilation.PROCESS_ASSETS_STAGE_* as stage option)\r\n\r\n#### 解决方案:\r\n\r\nhttp://events.jianshu.io/p/e79b8581eaae\r\n\r\n这是因为 `optimize-css-assets-webpack-plugin` 在webpack5中已不再友好支持\r\n使用 `css-minimizer-webpack-plugin` 为webpack5支持版\r\n\r\n``` webpack.config.js\r\noptimization: {\r\n    minimize: true,\r\n    minimizer: [\r\n        new CssMinimizerPlugin(),\r\n    ],\r\n }\r\n```\r\n\r\n### options has an unknown property 'disableHostCheck'. These properties are valid:\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201016746-6fe68590-adbe-47ff-ab40-54eabe1dae18.png)\r\n\r\n#### 解决方案：\r\n`webpack.devServer` 中不支持 **disableHostCheck** 属性，删除，然后使用 **allowedHosts** 代替\r\n\r\n### options has an unknown property 'overlay'. These properties are valid:\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201016879-bf225713-bbd7-45d5-b250-d5f9818f234e.png)\r\n\r\n#### 解决方案：\r\n\r\n`webpack.devServer` 中不支持 **overlay** 属性，删除\r\n\r\n### [webpack-cli] TypeError: Cannot read properties of undefined (reading 'tap')\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201017044-6cb03849-9634-4e2f-9446-4f45a0c60bd8.png)\r\n\r\n#### 解决方案：\r\n\r\nwebpack5 中存在 `cache` 属性，支持进行持久化缓存优化\r\n\r\n删除 `hard-source-webpack-plugin` 插件\r\n\r\n```  webpack.config.js\r\n/**\r\n * 生成缓存版本\r\n *\r\n * @param {object} entry\r\n */\r\nfunction computeCacheVersion(entry) {\r\n  const hash = crypto.createHash('sha1')\r\n  hash.update(entry.usage) // 使用场景，如build、dev等\r\n  hash.update(entry.mode) // 编译模式\r\n  hash.update(entry.packageName) // 主包版本\r\n  hash.update(fs.readFileSync(path.join(entry.cwd, 'babel.config.js'))) // 用户babel编译文件\r\n  hash.update(fs.readFileSync(path.join(entry.cwd, 'tsconfig.json'))) // 用户ts配置文件\r\n  hash.update(fs.readFileSync(path.join(entry.cwd, 'node_modules', '.yarn-integrity'))) // 依赖信息\r\n  return hash.digest('hex')\r\n} \r\n\r\n// 缓存版本号\r\nconst cacheVersion = computeCacheVersion({\r\n  usage: JSON.stringify(process.env),\r\n  mode,\r\n  packageName: packageJSON.name,\r\n  cwd: path.resolve(__dirname),\r\n})\r\n\r\n// 缓存路径\r\nconst cacheDirectory = '/root/.npm/.webpack-cache/top-admin'\r\n\r\n// 打印webpack缓存版本\r\nconsole.log('WebpackCacheVersion', cacheVersion)\r\n\r\nfunction loggerCacheFile(dir) {\r\n  try {\r\n    const stat = fs.statSync(dir)\r\n    console.log(`cache directory, stat '${dir}'`)\r\n  } catch (error) {\r\n    console.log(`no such cache directory, stat '${dir}'`)\r\n  }\r\n}\r\n\r\nloggerCacheFile(cacheDirectory)\r\n...\r\n\r\n// webpack缓存属性\r\ncache: {\r\n    type: 'filesystem',\r\n    cacheDirectory: isDev ? path.resolve(__dirname, 'node_modules/.cache/webpack') : cacheDirectory,\r\n    version: cacheVersion,\r\n }\r\n```\r\n\r\n### export 'default' (imported as 'arrayMove') was not found in 'array-move' (possible exports: arrayMoveImmutable, arrayMoveMutable)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201017969-934b5490-16b9-4230-a0ce-42838de7de01.png)\r\n\r\n#### 解决方案：\r\n\r\n`array-move@4` 修改 **arrayMove** 方法的名称为 **arrayMoveImmutable**\r\n在引入的地方 `import arrayMove from 'array-move'` =\u003e `import { arrayMoveImmutable as arrayMove } from 'array-move'`\r\n\r\n### export 'createModel' (imported as 'createModel') was not found in 'hox' (possible exports: HoxRoot, createGlobalStore, createStore, withStore)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201017996-aad062a0-6104-4611-afe9-e6d5a2e873f6.png)\r\n\r\n#### 解决方案：\r\n\r\n在引入的地方，需要修改：  `import { createModel } from 'hox'` =\u003e `import { createGlobalStore as createModel } from 'hox'`；\r\n在调用的地方，**createGlobalStore**相当于一个自定义hooks，其定义为如下所示：\r\n``` ts\r\nexport declare function createGlobalStore\u003cT\u003e(hook: () =\u003e T): readonly [(depsFn?: DepsFn\u003cT\u003e | undefined) =\u003e T, () =\u003e T | undefined];\r\n```\r\n所以调用的地方，需要修改：`createModel(useGlobal)` =\u003e `createModel(useGlobal)[0]`\r\n\r\n#### export 'DropTarget' (imported as 'DropTarget') was not found in 'react-dnd' (possible exports: DndContext, DndProvider, DragPreviewImage, useDrag, useDragDropManager, useDragLayer, useDrop)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201019067-a6ad3351-98cb-4757-bed0-a803cfc27b17.png)\r\n\r\n解决方案：\r\n`\"react-dnd\": \"16\"` 和 `\"react-dnd-html5-backend\": \"16\"`相对于11版本的API有了很大的升级改动\r\n\r\n\r\n``` tsx\r\n// 老版本\r\nimport { DndProvider, DragSource, DropTarget } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend' \r\n\r\nlet dragingIndex = -1\r\n\r\nclass BodyRow extends React.Component {\r\n  render() {\r\n    const { isOver, connectDragSource, connectDropTarget, moveRow, ...restProps } = this.props\r\n    const style = { ...restProps.style, cursor: 'move' }\r\n\r\n    let { className } = restProps\r\n    if (isOver) {\r\n      if (restProps.index \u003e dragingIndex) {\r\n        className += ' drop-over-downward'\r\n      }\r\n      if (restProps.index \u003c dragingIndex) {\r\n        className += ' drop-over-upward'\r\n      }\r\n    }\r\n\r\n    return connectDragSource(connectDropTarget(\u003ctr {...restProps} className={className} style={style} /\u003e))\r\n  }\r\n}\r\n\r\nconst rowTarget = {\r\n  drop(props, monitor) {\r\n    const dragIndex = monitor.getItem().index\r\n    const hoverIndex = props.index\r\n\r\n    // Don't replace items with themselves\r\n    if (dragIndex === hoverIndex) {\r\n      return\r\n    }\r\n\r\n    // Time to actually perform the action\r\n    props.moveRow(dragIndex, hoverIndex)\r\n\r\n    // Note: we're mutating the monitor item here!\r\n    // Generally it's better to avoid mutations,\r\n    // but it's good here for the sake of performance\r\n    // to avoid expensive index searches.\r\n    monitor.getItem().index = hoverIndex\r\n  },\r\n}\r\n\r\nconst rowSource = {\r\n  beginDrag(props) {\r\n    dragingIndex = props.index\r\n    return {\r\n      index: props.index,\r\n    }\r\n  },\r\n}\r\n\r\nconst DragableBodyRow = DropTarget('row', rowTarget, (connect, monitor) =\u003e ({\r\n  connectDropTarget: connect.dropTarget(),\r\n  isOver: monitor.isOver(),\r\n}))(\r\n  DragSource('row', rowSource, (connect) =\u003e ({\r\n    connectDragSource: connect.dragSource(),\r\n  }))(BodyRow),\r\n)\r\n\r\n\u003cDndProvider backend={HTML5Backend}\u003e\r\n    \u003cTable\r\n      className={styles.list_table}\r\n      pagination={false}\r\n      columns={listTableColumns}\r\n      dataSource={data.items.map((item, index) =\u003e getTableItem(item, index))}\r\n      components={{\r\n        body: {\r\n          row: DragableBodyRow,\r\n        },\r\n      }}\r\n      onRow={(record, index) =\u003e ({\r\n        index,\r\n        moveRow: handleMoveItem,\r\n      })}\r\n    /\u003e\r\n \u003c/DndProvider\u003e\r\n```\r\n\r\n``` tsx\r\n// 新版\r\n\r\nimport { DndProvider, useDrag, useDrop } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\n\r\nconst type = 'DraggableBodyRow';\r\n\r\nconst DragableBodyRow = ({ index, moveRow, className, style, ...restProps }) =\u003e {\r\n  const ref = useRef();\r\n  const [{ isOver, dropClassName }, drop] = useDrop({\r\n    accept: type,\r\n    collect: (monitor) =\u003e {\r\n      const { index: dragIndex } = monitor.getItem\u003c{ index: number }\u003e() || {};\r\n      if (dragIndex === index) {\r\n        return {};\r\n      }\r\n      return {\r\n        isOver: monitor.isOver(),\r\n        dropClassName: dragIndex \u003c index ? ' drop-over-downward' : ' drop-over-upward',\r\n      };\r\n    },\r\n    drop: (item: any) =\u003e {\r\n      moveRow((item as any).index, index);\r\n    },\r\n  });\r\n  const [, drag] = useDrag({\r\n    type,\r\n    item: { index },\r\n    collect: monitor =\u003e ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  drop(drag(ref));\r\n\r\n  return (\r\n    \u003ctr\r\n      ref={ref}\r\n      className={`${className}${isOver ? dropClassName : ''}`}\r\n      style={{ cursor: 'move', ...style }}\r\n      {...restProps}\r\n    /\u003e\r\n  );\r\n};\r\n\r\n\r\n\u003cDndProvider backend={HTML5Backend}\u003e\r\n  \u003cTable\r\n    className={styles.list_table}\r\n    pagination={false}\r\n    columns={listTableColumns}\r\n    dataSource={data.items.map((item, index) =\u003e getTableItem(item, index))}\r\n    components={{\r\n      body: {\r\n        row: DragableBodyRow,\r\n      },\r\n    }}\r\n    onRow={(record, index) =\u003e ({\r\n      index,\r\n      moveRow: handleMoveItem,\r\n    } as any)}\r\n  /\u003e\r\n\u003c/DndProvider\u003e\r\n``` \r\n\r\n\r\n### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201020067-5f8087f2-faaf-426b-b0de-a4517f6e9a6f.png)\r\n\r\n#### 解决方案：\r\n\r\nhttps://blog.csdn.net/Tom__cy/article/details/122805775\r\n\r\n使用下列命令，更新`division`操作符\r\n\r\n``` bash\r\nnpx sass-migrator division ./src/**/*.scss\r\n```\r\n\r\n### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.  node_modules/@xxx/platform-common/lib/style/commons/layouts.scss\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201020320-ff1c7646-bd33-4f18-83cb-a2e21fb6310d.png)\r\n\r\n\r\n#### 解决方案：\r\n\r\n1. 删除 \r\n\r\n``` scss\r\n@import '~@xxx/platform-common/lib/style/variables.scss';\r\n@import '~@xxx/platform-common/lib/style/mixins.scss';\r\n\r\n@import '@xx/platform-common/lib/style/index.scss';\r\n```\r\n\r\n2. 替换 @include clear-fix\r\n\r\n在 `xxx-web-admin2/src/common/scss/mixins.scss` 文件中加入，替换所有的`@include clear-fix`\r\n``` scss\r\n// 清除浮动\r\n@mixin clear-fix {\r\n  \u0026:before,\r\n  \u0026:after {\r\n    display: table;\r\n    content: \"\";\r\n    clear: both;\r\n  }\r\n}\r\n```\r\n\r\n3. 在全局scss文件中直接引入编译后的css文件\r\n```\r\n@import '@xx/platform-common/lib/style/index.css';\r\n```\r\n\r\n### (77:3) autoprefixer: Second Autoprefixer control comment was ignored. Autoprefixer applies control comment to whole block, not to next rules.\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201020955-a1b857a3-fd7a-498e-be4a-ef2212f2fac7.png)\r\n\r\n#### 解决方案：\r\n\r\n替换下列SCSS代码为 `@include line-clamp(2);`\r\n\r\n``` scss\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box; //将对象作为弹性伸缩盒子模型显示。\r\n/* autoprefixer: off */\r\n-webkit-box-orient: vertical; //从上到下垂直排列子元素（设置伸缩盒子的子元素排列方式）\r\n/* autoprefixer: on */\r\n-webkit-line-clamp: 2; //这个属性不是css的规范属性，需要组合上面两个属性，表示显示的行数。此处为2行\r\nword-wrap: break-word; //允许单词内断句，首先会尝试挪到下一行，看看下一行的宽度够不够，不够的话就进行单词内的断句\r\n```\r\n\r\n### Should not import the named export 'version' (imported as 'version') from default-exporting module (only default export is available soon)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201021162-afca58a1-72ce-4a7f-b987-dc283bd0200c.png)\r\n\r\n#### 解决方案：\r\n\r\nhttp://www.yanzw.cn/archives/reactantdantdesign3errorcneonfoe\r\n\r\nhttps://stackoverflow.com/questions/64993118/error-should-not-import-the-named-export-version-imported-as-version\r\n\r\n##### 1. Change the following\r\n\r\n``` tsx\r\nimport { version } from '../../package.json';\r\n```\r\n\r\nto something like\r\n\r\n```\r\nimport packageInfo from '../../package.json';\r\n```\r\n\r\nAnd then change your access from something like\r\n```\r\nversion,\r\n```\r\nor\r\n```\r\nversion: version,\r\n```\r\nto\r\n```\r\nversion: packageInfo.version,\r\n```\r\nAs noted in the comments, there may be cases where you do not want to expose your entire `package.json` file in the client code.\r\n\r\n##### 2. webpack加入下列属性:\r\n\r\nignoreWarnings: [\r\n    /only default export is available soon/,\r\n],\r\n\r\n### hard-source-webpack-plugin TypeError: Cannot read properties of undefined (reading 'tap')\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201022339-a2a6c246-9b7c-4187-93fa-51bd4543eec3.png)\r\n\r\n#### 解决方案：\r\n\r\n`https://github.com/mzgoddard/hard-source-webpack-plugin/issues/546`\r\n\r\n#### 最终方案:\r\n\r\nwebpack5中可以使用Cache属性来缓存生成的 webpack 模块和 chunk，来改善构建速度。\r\n\r\n\r\n### Eslint error  Parsing error: require() of ES Module  dynamic import() which is available in all CommonJS modules\r\n\r\nParsing error: require() of ES Module /Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/eslint/node_modules/eslint-scope/lib/definition.js from /Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/babel-eslint/lib/require-from-eslint.js not supported.\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201022525-9e8cd577-703c-4d23-8de1-47d147ba9c6e.png)\r\n\r\n#### 解决方案：\r\n\r\nwebpack5中使用`eslint-webpack-plugin`代替`eslint-loader`\r\n\r\n``` webpack.config.js\r\nconst ESLintWebpackPlugin = require('eslint-webpack-plugin')\r\n\r\n// TODO: commit 之前会eslint提交的代码，没必要使用这个plugin，耗时\r\n\r\nnew ESLintWebpackPlugin({\r\n    context: path.resolve(__dirname, 'src'), // 文件根目录\r\n    extensions: ['js', 'jsx', 'ts', 'tsx'],\r\n}),\r\n```\r\n\r\n### BREAKING CHANGE: No more changes should happen to Compilation.assets after sealing the Compilation.\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201022680-2fac1cac-73b0-48da-97fc-0343df243ce2.png)\r\n\r\n#### 可能原因:\r\n\r\n`https://github.com/webpack/webpack/issues/11997`\r\n\r\n#### 解决方案：\r\n\r\n暂无解决\r\n\r\n#### HMR失效(Update failed: ChunkLoadError: Loading hot update chunk 179 failed.)\r\n\r\n每次启用liveReload\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201022850-f251e7cf-8b92-4d1f-b317-4bc293e3975d.png)\r\n\r\n#### 解决方案：\r\n\r\nhttps://segmentfault.com/a/1190000041684579?sort=newest\r\n\r\n**css-leader**和**scss-loader**前不能使用**thread-loader**，否则不再同一个进程，无法进行HMR，只能回退成liveReload(刷新页面)\r\n\r\n#### 疑问：\r\n\r\n1. 为什么babel-loader前可以使用thread-loader且HMR也生效？\r\n\r\n### CICD持久化缓存优化\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/201022850-f251e7cf-8b92-4d1f-b317-4bc293e3975d.png)\r\n\r\n#### 原因分析：\r\n\r\n1. 不能使用配置文件的方式进行缓存，CICD上每次编译时都会重新进行node_modules的安装，所以每次编译都没使用到缓存。\r\n2. **docker容器化部署，每次编译完缓存的文件未携带至下一次编译容器中(正确)**\r\n\r\n#### 解决方案：\r\n\r\n##### 问题一\r\n\r\nhttps://zhuanlan.zhihu.com/p/81122986\r\n\r\n##### 问题二\r\n\r\n修改`cacheDirectory`路径，改成 `'/root/.npm/.webpack-cache/top-admin'`\r\n\r\n\r\n疑问：\r\n1. 明明使用的是webpack.config.js配置文件的方式进行缓存，配置文件没有发生改变，为什么匹配不到缓存？\r\n\r\n\r\n## 参考文献\r\n\r\nhttp://www.45fan.com/article.php?aid=1D8hPfZrDF1Z3Pfq#_label8\r\nhttps://zhuanlan.zhihu.com/p/532825514\r\nhttps://blog.csdn.net/weixin_42192113/article/details/114645394\r\nhttps://wenku.baidu.com/view/a458d11cedfdc8d376eeaeaad1f34693daef10f7.html?_wkts_=1667373110609\u0026bdQuery=eslint-webpack-plugin+webpack5\r\nhttp://www.icodebang.com/article/347305.html\r\nhttps://www.51cto.com/article/670178.html\r\nhttps://zhuanlan.zhihu.com/p/343079697\r\nhttps://blog.csdn.net/m0_37937502/article/details/124986762\r\nhttps://zhuanlan.zhihu.com/p/451435548\r\nhttp://www.wjhsh.net/wangpenghui522-p-14747627.html\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/63/timeline","performed_via_github_app":null,"state_reason":null},"menus":["## 前言","## 记录","### Webpack v5 VS v4 模块 ID","### Webpack v5 VS v4 Chunk ID","### 真正的内容哈希","## 升级问题记录","### babel-plugin-import配置babel按需引入antd模块，编译后报错.bezierEasingMixin()","#### 解决方案：","### Error evaluating function `unit`: the first argument to unit must be a number. Have you forgotten parenthesis?","#### 解决方案:","### Module not found: Error: Can't resolve 'antd-mobile/lib/tab-bar/style' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5'","#### 解决方案:","### Module not found: Error: Can't resolve 'antd-mobile/lib/flex' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/src/h5/pages/brief'","#### 解决方案：","### Module not found: Error: Can't resolve 'tsparticles/Plugins/PolygonMask/Enums' in '/Users/xxx/Workspace/xxx/xxx-platform-frontend-webpack5/xxx-web-admin2/node_modules/react-particles-js/cjs'","#### 解决方案:","### 1 ERROR in child compilations (Use 'stats.children: true' resp. '--stats-children' for more details)","#### 解决方案:","### ERROR in [eslint] Unexpected token ':'","#### 解决方案:","### ERROR in [eslint] ESLint is not a constructor","#### 解决方案:","### [DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS] DeprecationWarning: optimizeChunkAssets is deprecated (use Compilation.hooks.processAssets instead and use one of Compilation.PROCESS_ASSETS_STAGE_* as stage option)","#### 解决方案:","### options has an unknown property 'disableHostCheck'. These properties are valid:","#### 解决方案：","### options has an unknown property 'overlay'. These properties are valid:","#### 解决方案：","### [webpack-cli] TypeError: Cannot read properties of undefined (reading 'tap')","#### 解决方案：","### export 'default' (imported as 'arrayMove') was not found in 'array-move' (possible exports: arrayMoveImmutable, arrayMoveMutable)","#### 解决方案：","### export 'createModel' (imported as 'createModel') was not found in 'hox' (possible exports: HoxRoot, createGlobalStore, createStore, withStore)","#### 解决方案：","#### export 'DropTarget' (imported as 'DropTarget') was not found in 'react-dnd' (possible exports: DndContext, DndProvider, DragPreviewImage, useDrag, useDragDropManager, useDragLayer, useDrop)","### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.","#### 解决方案：","### Deprecation Using / for division is deprecated and will be removed in Dart Sass 2.0.0.  node_modules/@xxx/platform-common/lib/style/commons/layouts.scss","#### 解决方案：","### (77:3) autoprefixer: Second Autoprefixer control comment was ignored. Autoprefixer applies control comment to whole block, not to next rules.","#### 解决方案：","### Should not import the named export 'version' (imported as 'version') from default-exporting module (only default export is available soon)","#### 解决方案：","##### 1. Change the following","##### 2. webpack加入下列属性:","### hard-source-webpack-plugin TypeError: Cannot read properties of undefined (reading 'tap')","#### 解决方案：","#### 最终方案:","### Eslint error  Parsing error: require() of ES Module  dynamic import() which is available in all CommonJS modules","#### 解决方案：","### BREAKING CHANGE: No more changes should happen to Compilation.assets after sealing the Compilation.","#### 可能原因:","#### 解决方案：","#### HMR失效(Update failed: ChunkLoadError: Loading hot update chunk 179 failed.)","#### 解决方案：","#### 疑问：","### CICD持久化缓存优化","#### 原因分析：","#### 解决方案：","##### 问题一","##### 问题二","## 参考文献"]},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"63"},"buildId":"a3cZ70FNaLN28WmGwcIOw","assetPrefix":"/frontend","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>