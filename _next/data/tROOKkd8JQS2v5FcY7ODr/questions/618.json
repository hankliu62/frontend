{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/618","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/618/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/618/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/618/events","html_url":"https://github.com/hankliu62/interview/issues/618","id":2252047054,"node_id":"I_kwDOLNphd86GO4LO","number":618,"title":"前端生成海报的时候，用了什么库，原理是什么","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6547468066,"node_id":"LA_kwDOLNphd88AAAABhkJvIg","url":"https://api.github.com/repos/hankliu62/interview/labels/html","name":"html","color":"13c2c2","default":false,"description":"HTML相关"},{"id":6547468110,"node_id":"LA_kwDOLNphd88AAAABhkJvTg","url":"https://api.github.com/repos/hankliu62/interview/labels/javascript","name":"javascript","color":"383040","default":false,"description":"Javascript相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/hankliu62/interview/milestones/3","html_url":"https://github.com/hankliu62/interview/milestone/3","labels_url":"https://api.github.com/repos/hankliu62/interview/milestones/3/labels","id":10707686,"node_id":"MI_kwDOLNphd84Ao2Lm","number":3,"title":"3","description":"描述问题难度，难度3🌟","creator":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"open_issues":14,"closed_issues":0,"state":"open","created_at":"2024-03-20T03:36:24Z","updated_at":"2024-04-19T04:15:32Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-04-19T04:15:32Z","updated_at":"2024-04-19T04:15:33Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"前端生成海报通常会使用一些专门的库，其中比较流行的是 `html2canvas` 和 `dom-to-image`。这些库的原理是通过将 `HTML` 元素转换成 `Canvas` 或者图片的方式来实现生成海报。\r\n\r\n### html2canvas：\r\n`html2canvas` 是一个用于将 `DOM` 元素转换成 `Canvas` 的库。它会遍历 `DOM` 树，将每个元素绘制到 `Canvas` 上，最终生成一个包含整个页面内容的 `Canvas` 对象。用户可以对这个 `Canvas` 进行操作，比如保存为图片或者添加一些额外的绘制内容。\r\n\r\n`html2canvas` 的原理大致如下：\r\n\r\n1. 遍历 `DOM` 树：`html2canvas` 会从指定的 `DOM` 元素开始，递归遍历其所有子元素，将每个元素绘制到 `Canvas` 上。\r\n2. 绘制到 `Canvas`：对于每个 `DOM` 元素，`html2canvas` 会获取其样式、位置等信息，并将其绘制到 `Canvas` 上对应的位置。\r\n3. 处理 `CSS` 样式：`html2canvas` 会处理 `CSS` 样式，包括背景图片、渐变色、字体等，并尽可能地将其转换成 `Canvas` 可以绘制的形式。\r\n4. 处理异步加载内容：如果页面中存在异步加载的内容（比如图片），`html2canvas` 会等待所有内容加载完成后再进行绘制。\r\n\r\n### dom-to-image：\r\n\r\n`dom-to-image` 是另一个将 `DOM` 元素转换成图片的库。它的原理与 `html2canvas` 类似，也是遍历 `DOM` 树，将每个元素绘制到一个 `Canvas` 上，并最终导出为图片。不同之处在于 `dom-to-image` 支持直接指定要导出的 `DOM` 元素，而不是从整个页面开始遍历。\r\n\r\n总的来说，前端生成海报的原理是将页面的 `DOM` 元素转换成 `Canvas` 或者图片，并对生成的结果进行进一步的处理，比如添加文字、图片等，最终生成用户需要的海报。","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/618/timeline","performed_via_github_app":null,"state_reason":null},"menus":["### html2canvas：","### dom-to-image："]},"__N_SSG":true}