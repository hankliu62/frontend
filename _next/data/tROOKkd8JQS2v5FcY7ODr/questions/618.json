{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/618","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/618/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/618/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/618/events","html_url":"https://github.com/hankliu62/interview/issues/618","id":2252047054,"node_id":"I_kwDOLNphd86GO4LO","number":618,"title":"å‰ç«¯ç”Ÿæˆæµ·æŠ¥çš„æ—¶å€™ï¼Œç”¨äº†ä»€ä¹ˆåº“ï¼ŒåŸç†æ˜¯ä»€ä¹ˆ","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6547468066,"node_id":"LA_kwDOLNphd88AAAABhkJvIg","url":"https://api.github.com/repos/hankliu62/interview/labels/html","name":"html","color":"13c2c2","default":false,"description":"HTMLç›¸å…³"},{"id":6547468110,"node_id":"LA_kwDOLNphd88AAAABhkJvTg","url":"https://api.github.com/repos/hankliu62/interview/labels/javascript","name":"javascript","color":"383040","default":false,"description":"Javascriptç›¸å…³"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/hankliu62/interview/milestones/3","html_url":"https://github.com/hankliu62/interview/milestone/3","labels_url":"https://api.github.com/repos/hankliu62/interview/milestones/3/labels","id":10707686,"node_id":"MI_kwDOLNphd84Ao2Lm","number":3,"title":"3","description":"æè¿°é—®é¢˜éš¾åº¦ï¼Œéš¾åº¦3ğŸŒŸ","creator":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"open_issues":14,"closed_issues":0,"state":"open","created_at":"2024-03-20T03:36:24Z","updated_at":"2024-04-19T04:15:32Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-04-19T04:15:32Z","updated_at":"2024-04-19T04:15:33Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"å‰ç«¯ç”Ÿæˆæµ·æŠ¥é€šå¸¸ä¼šä½¿ç”¨ä¸€äº›ä¸“é—¨çš„åº“ï¼Œå…¶ä¸­æ¯”è¾ƒæµè¡Œçš„æ˜¯ `html2canvas` å’Œ `dom-to-image`ã€‚è¿™äº›åº“çš„åŸç†æ˜¯é€šè¿‡å°† `HTML` å…ƒç´ è½¬æ¢æˆ `Canvas` æˆ–è€…å›¾ç‰‡çš„æ–¹å¼æ¥å®ç°ç”Ÿæˆæµ·æŠ¥ã€‚\r\n\r\n### html2canvasï¼š\r\n`html2canvas` æ˜¯ä¸€ä¸ªç”¨äºå°† `DOM` å…ƒç´ è½¬æ¢æˆ `Canvas` çš„åº“ã€‚å®ƒä¼šéå† `DOM` æ ‘ï¼Œå°†æ¯ä¸ªå…ƒç´ ç»˜åˆ¶åˆ° `Canvas` ä¸Šï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªåŒ…å«æ•´ä¸ªé¡µé¢å†…å®¹çš„ `Canvas` å¯¹è±¡ã€‚ç”¨æˆ·å¯ä»¥å¯¹è¿™ä¸ª `Canvas` è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚ä¿å­˜ä¸ºå›¾ç‰‡æˆ–è€…æ·»åŠ ä¸€äº›é¢å¤–çš„ç»˜åˆ¶å†…å®¹ã€‚\r\n\r\n`html2canvas` çš„åŸç†å¤§è‡´å¦‚ä¸‹ï¼š\r\n\r\n1. éå† `DOM` æ ‘ï¼š`html2canvas` ä¼šä»æŒ‡å®šçš„ `DOM` å…ƒç´ å¼€å§‹ï¼Œé€’å½’éå†å…¶æ‰€æœ‰å­å…ƒç´ ï¼Œå°†æ¯ä¸ªå…ƒç´ ç»˜åˆ¶åˆ° `Canvas` ä¸Šã€‚\r\n2. ç»˜åˆ¶åˆ° `Canvas`ï¼šå¯¹äºæ¯ä¸ª `DOM` å…ƒç´ ï¼Œ`html2canvas` ä¼šè·å–å…¶æ ·å¼ã€ä½ç½®ç­‰ä¿¡æ¯ï¼Œå¹¶å°†å…¶ç»˜åˆ¶åˆ° `Canvas` ä¸Šå¯¹åº”çš„ä½ç½®ã€‚\r\n3. å¤„ç† `CSS` æ ·å¼ï¼š`html2canvas` ä¼šå¤„ç† `CSS` æ ·å¼ï¼ŒåŒ…æ‹¬èƒŒæ™¯å›¾ç‰‡ã€æ¸å˜è‰²ã€å­—ä½“ç­‰ï¼Œå¹¶å°½å¯èƒ½åœ°å°†å…¶è½¬æ¢æˆ `Canvas` å¯ä»¥ç»˜åˆ¶çš„å½¢å¼ã€‚\r\n4. å¤„ç†å¼‚æ­¥åŠ è½½å†…å®¹ï¼šå¦‚æœé¡µé¢ä¸­å­˜åœ¨å¼‚æ­¥åŠ è½½çš„å†…å®¹ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œ`html2canvas` ä¼šç­‰å¾…æ‰€æœ‰å†…å®¹åŠ è½½å®Œæˆåå†è¿›è¡Œç»˜åˆ¶ã€‚\r\n\r\n### dom-to-imageï¼š\r\n\r\n`dom-to-image` æ˜¯å¦ä¸€ä¸ªå°† `DOM` å…ƒç´ è½¬æ¢æˆå›¾ç‰‡çš„åº“ã€‚å®ƒçš„åŸç†ä¸ `html2canvas` ç±»ä¼¼ï¼Œä¹Ÿæ˜¯éå† `DOM` æ ‘ï¼Œå°†æ¯ä¸ªå…ƒç´ ç»˜åˆ¶åˆ°ä¸€ä¸ª `Canvas` ä¸Šï¼Œå¹¶æœ€ç»ˆå¯¼å‡ºä¸ºå›¾ç‰‡ã€‚ä¸åŒä¹‹å¤„åœ¨äº `dom-to-image` æ”¯æŒç›´æ¥æŒ‡å®šè¦å¯¼å‡ºçš„ `DOM` å…ƒç´ ï¼Œè€Œä¸æ˜¯ä»æ•´ä¸ªé¡µé¢å¼€å§‹éå†ã€‚\r\n\r\næ€»çš„æ¥è¯´ï¼Œå‰ç«¯ç”Ÿæˆæµ·æŠ¥çš„åŸç†æ˜¯å°†é¡µé¢çš„ `DOM` å…ƒç´ è½¬æ¢æˆ `Canvas` æˆ–è€…å›¾ç‰‡ï¼Œå¹¶å¯¹ç”Ÿæˆçš„ç»“æœè¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œæ¯”å¦‚æ·»åŠ æ–‡å­—ã€å›¾ç‰‡ç­‰ï¼Œæœ€ç»ˆç”Ÿæˆç”¨æˆ·éœ€è¦çš„æµ·æŠ¥ã€‚","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/618/timeline","performed_via_github_app":null,"state_reason":null},"menus":["### html2canvasï¼š","### dom-to-imageï¼š"]},"__N_SSG":true}