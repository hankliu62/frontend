{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/568","id":2126558892,"node_id":"I_kwDOBiJZIc5-wLas","number":568,"title":"Flutter怎么做性能优化？","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6527252877,"node_id":"LA_kwDOBiJZIc8AAAABhQ35jQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/interview%20questions","name":"interview questions","color":"722ed1","default":false,"description":"面试题"},{"id":6536139147,"node_id":"LA_kwDOBiJZIc8AAAABhZWRiw","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/mixture","name":"mixture","color":"AF4C82","default":false,"description":"面试题-混合开发相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-09T06:34:18Z","updated_at":"2024-02-09T06:34:19Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"1. 使用检测工具Flutter Inspector来定位性能问题。\r\n2. 包体积优化：\r\n  - 移除不必要的依赖项，对于重复的或者没有用到的三方库，及时移除。\r\n  - 减少图像和资源文件大小：使用高压缩率的图像格式，如WebP、JPEG XR等，可以有效地减少图像文件的大小。另外，可以将应用程序中的资源文件打包为.zip文件，并使用Flutter框架提供的AssetBundle来加载资源文件。\r\n  - 按需加载：将应用程序中的部分代码拆分成较小的模块，并在需要时动态加载，以减少应用程序包的大小。Flutter框架提供了Code Splitting功能来支持按需加载。\r\n  - 使用AOT编译：使用AOT编译模式可以将Dart代码编译成本地机器代码，并减少应用程序包的大小。\r\n  - 使用`flutter build apk --split-per-abi`构建单ABI架构的包。\r\n3. 启动优化：\r\n  - 代码分离：将大型应用程序拆分成多个小模块，使用代码分离来延迟加载这些模块，可以减少应用程序的启动时间，提高性能。\r\n  - 减少包体积也可以提升启动速度。\r\n  - 体验优化，给应用添加一个漂亮的Splash启动页，可以减少用户等待的焦虑。\r\n4. 布局优化：减少Widget的嵌套：Widget的嵌套层级越深，渲染所需的时间越长，因此尽可能减少Widget的嵌套层级，可以有效提高应用的性能。\r\n5. 列表优化：使用ListView.builder或GridView.builder：在构建长列表或网格时，使用ListView.builder或GridView.builder等构建器可以避免一次性渲染所有列表项或网格项，从而提高性能。\r\n6. 内存优化：\r\n  - 避免内存泄漏：尽量避免使用全局变量、在不需要的时候及时释放资源、避免使用循环引用等。\r\n  - 优化UI布局：使用简单的UI布局和尽量减少层级嵌套可以减少Flutter应用程序的内存使用。尽量避免使用动态的布局，如Wrap、Flow等。\r\n  - 避免重复创建对象：可以使用对象池来避免重复创建对象。\r\n  - 减少图片大小：将应用程序中的图片文件压缩，可以减少应用程序的内存使用。Flutter框架提供了ImageProvider和ImageCache等工具来帮助管理图片资源。\r\n7. 异步加载：在加载大量数据时，使用异步加载可以避免阻塞UI线程，提高应用程序的性能。","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/568/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}