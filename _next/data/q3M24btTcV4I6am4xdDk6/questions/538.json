{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/538","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/538/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/538/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/538/events","html_url":"https://github.com/hankliu62/interview/issues/538","id":2141248659,"node_id":"I_kwDOLNphd85_oNyT","number":538,"title":"买卖股票的最佳时机(121)","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6578481463,"node_id":"LA_kwDOLNphd88AAAABiBupNw","url":"https://api.github.com/repos/hankliu62/interview/labels/leetcode","name":"leetcode","color":"7F3AE3","default":false,"description":"Leetcode相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-19T00:01:47Z","updated_at":"2024-02-19T00:01:47Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"接下来这道题，你简单看下题目就行，解答原理超级简单，看图说话，找规律！\r\n\r\n我们先看题：\r\n\r\n给定一个数组 `prices` ，它的第 `i` 个元素 `prices[i]` 表示一支给定股票第 `i` 天的价格。\r\n\r\n你只能选择 `某一天 买入这只股票，并选择在 未来的某一个不同的日子` 卖出该股票。设计一个算法来计算你所能获取的最大利润。\r\n\r\n返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回 0 。\r\n\r\n```\r\n示例 1：\r\n\r\n输入：[7,1,5,3,6,4]\r\n输出：5\r\n解释：在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。\r\n     注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。\r\n示例 2：\r\n\r\n输入：prices = [7,6,4,3,1]\r\n输出：0\r\n解释：在这种情况下, 没有交易完成, 所以最大利润为 0。\r\n\r\n\r\n提示：\r\n\r\n1 <= prices.length <= 105\r\n0 <= prices[i] <= 104\r\n```\r\n\r\n**解题思路**：\r\n\r\n我们先看一张图，假设给定的数组为：`[7, 1, 5, 3, 6, 4]`\r\n\r\n![image](https://github.com/hankliu62/hankliu62.github.com/assets/8088864/75f6ced6-f1db-48b5-b386-3d83b48cf5f4)\r\n\r\n- 第一天是7，我们记录一下，因为还没到第二天不知道这个价格是高是低，`标记最小值是7`\r\n- 第二天是1，`比7小`，那么只要当前天数的值比前面小，就说明不卖，因为它是最小值，`标记最小值是7`\r\n- 第三天是5，5比前一天大，说明比最小值要大，那么可以卖，利润就是`5-1=4`\r\n- 第四天发现是3，比5小，还是一样的道理，比之前小，最小值就要变为当前值，啥也不干，`标记最小值是3`\r\n- 第五天发现是6...，第六天发现是4，规律是一样的\r\n意思是只要今天比昨天低，就可以用今天的减去最小值，就是利润，然后每次都比较这个利润是不是最大就行了\r\n\r\n结合一下代码，就会清楚\r\n\r\n``` js\r\nvar maxProfit = function(prices) {\r\n  let res = 0;\r\n  let min = prices[0];\r\n  for(let i = 1; i < prices.length; i++){\r\n      if(prices[i] < min){\r\n          min = prices[i]\r\n      } else {\r\n          res = Math.max(res, prices[i] - min)\r\n      }\r\n  }\r\n  return res;\r\n};\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/538/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}