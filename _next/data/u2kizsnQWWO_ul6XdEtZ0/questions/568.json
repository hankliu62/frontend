{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/568","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/568/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/568/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/568/events","html_url":"https://github.com/hankliu62/interview/issues/568","id":2141251752,"node_id":"I_kwDOLNphd85_oOio","number":568,"title":"快乐数(202)","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6578481463,"node_id":"LA_kwDOLNphd88AAAABiBupNw","url":"https://api.github.com/repos/hankliu62/interview/labels/leetcode","name":"leetcode","color":"7F3AE3","default":false,"description":"Leetcode相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-19T00:07:34Z","updated_at":"2024-02-19T00:07:34Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"题目如下：编写一个算法来判断一个数 n 是不是快乐数。\r\n\r\n「快乐数」定义为：\r\n\r\n- 对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。\r\n- 然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。\r\n- 如果 可以变为 1，那么这个数就是快乐数。\r\n- 如果 n 是快乐数就返回 true ；不是，则返回 false 。\r\n\r\n![image](https://github.com/hankliu62/hankliu62.github.com/assets/8088864/2c80b531-7964-4fa2-9812-faedcb191312)\r\n\r\n快乐数怎么分析呢？\r\n\r\n我们来看一个表，就会得出结论，一个数按照快乐数定义的方式分别每个数字平方，会有两种情况\r\n\r\n\r\n1. 得到1\r\n\r\n2. 无限循环\r\n\r\n无限循环参照下图\r\n\r\n![image](https://github.com/hankliu62/hankliu62.github.com/assets/8088864/6b1baa31-6bc4-4a6a-b4bc-cc17107ba001)\r\n\r\n有人会说会不会一直变大，答案是不会：我们看下面列表，\r\n\r\n- 可以看到如果你是13位，你的下一次快乐数算法会变为4位1053，\r\n- 如果你是`9999`, `4`位，下一个快乐数是`324`\r\n\r\n| 位数 | 位数对应最大值 | 下一个快乐数 |\r\n|:----|:----|:----|\r\n| 1 | 9 | 81 |\r\n| 2 | 99 | 162 |\r\n| 3 | 999 | 243 |\r\n| 4 | 9999 | 324 |\r\n| 13 | 9999999999999 | 1053 |\r\n\r\n所以代码只要判断这两种就行了，代码如下：\r\n\r\n``` js\r\n// 封装获取快乐数的方法\r\nfunction getNext(n){\r\n    n = String(n);\r\n    let sum = 0;\r\n    for(let num of n){\r\n        sum = sum + Math.pow(+num, 2);\r\n    }\r\n    return sum;\r\n}\r\nvar isHappy = function(n) {\r\n    // 哈希表来看是否循环\r\n    const map = {};\r\n    while( n !== 1 ){\r\n        map[n] = true;\r\n        n = getNext(n)\r\n        if(map[n]) return false\r\n    }\r\n    return true\r\n};\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/568/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}