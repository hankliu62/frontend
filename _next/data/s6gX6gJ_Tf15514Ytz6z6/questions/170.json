{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/170","id":2124564592,"node_id":"I_kwDOBiJZIc5-okhw","number":170,"title":"类数组和数组的区别，dom 的类数组如何转换成数组","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6527252877,"node_id":"LA_kwDOBiJZIc8AAAABhQ35jQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/interview%20questions","name":"interview questions","color":"722ed1","default":false,"description":"面试题"},{"id":6536118829,"node_id":"LA_kwDOBiJZIc8AAAABhZVCLQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/javascript","name":"javascript","color":"383040","default":false,"description":"面试题-Javascript相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-08T07:57:54Z","updated_at":"2024-02-09T08:13:22Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"### 1）定义\r\n\r\n- 数组是一个特殊对象,与常规对象的区别：\r\n  - 1. 当由新元素添加到列表中时，自动更新length属性\r\n  - 2. 设置length属性，可以截断数组\r\n  - 3. 从Array.protoype中继承了方法\r\n  - 4. 属性为'Array'\r\n- 类数组是一个拥有length属性，并且他属性为非负整数的普通对象，类数组不能直接调用数组方法\r\n\r\n### 2）区别\r\n\r\n本质：类数组是简单对象，它的原型关系与数组不同。\r\n\r\n``` js\r\n// 原型关系和原始值转换\r\nlet arrayLike = {\r\n    length: 10,\r\n};\r\nconsole.log(arrayLike instanceof Array); // false\r\nconsole.log(arrayLike.__proto__.constructor === Array); // false\r\nconsole.log(arrayLike.toString()); // [object Object]\r\nconsole.log(arrayLike.valueOf()); // {length: 10}\r\n\r\nlet array = [];\r\nconsole.log(array instanceof Array); // true\r\nconsole.log(array.__proto__.constructor === Array); // true\r\nconsole.log(array.toString()); // ''\r\nconsole.log(array.valueOf()); // []\r\n```\r\n\r\n### 3）类数组转换为数组\r\n\r\n- 转换方法\r\n  - 1. 使用 Array.from()\r\n  - 2. 使用 Array.prototype.slice.call()\r\n  - 3. 使用 Array.prototype.forEach() 进行属性遍历并组成新的数组\r\n\r\n- 转换须知\r\n  - 转换后的数组长度由 length 属性决定。索引不连续时转换结果是连续的，会自动补位。\r\n  - 代码示例\r\n\r\n  ``` js\r\n  let al1 = {\r\n      length: 4,\r\n      0: 0,\r\n      1: 1,\r\n      3: 3,\r\n      4: 4,\r\n      5: 5,\r\n  };\r\n  console.log(Array.from(al1)) // [0, 1, undefined, 3]\r\n  ```\r\n\r\n  - 仅考虑 0或正整数的索引\r\n\r\n  ``` js\r\n  // 代码示例\r\n  let al2 = {\r\n      length: 4,\r\n      '-1': -1,\r\n      '0': 0,\r\n      a: 'a',\r\n      1: 1\r\n  };\r\n  console.log(Array.from(al2)); // [0, 1, undefined, undefined]\r\n  ```\r\n\r\n  - 使用slice转换产生稀疏数组\r\n\r\n  ``` js\r\n  // 代码示例\r\n  let al2 = {\r\n      length: 4,\r\n      '-1': -1,\r\n      '0': 0,\r\n      a: 'a',\r\n      1: 1\r\n  };\r\n  console.log(Array.prototype.slice.call(al2)); //[0, 1, empty × 2]\r\n  ```\r\n\r\n### 4）使用数组方法操作类数组注意地方\r\n\r\n``` js\r\nlet arrayLike2 = {\r\n  2: 3,\r\n  3: 4,\r\n  length: 2,\r\n  push: Array.prototype.push\r\n}\r\n\r\n// push 操作的是索引值为 length 的位置\r\narrayLike2.push(1);\r\nconsole.log(arrayLike2); // {2: 1, 3: 4, length: 3, push: ƒ}\r\narrayLike2.push(2);\r\nconsole.log(arrayLike2); // {2: 1, 3: 2, length: 4, push: ƒ}\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/170/timeline","performed_via_github_app":null,"state_reason":null},"menus":["### 1）定义","### 2）区别","### 3）类数组转换为数组","### 4）使用数组方法操作类数组注意地方"]},"__N_SSG":true}