{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/627","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/627/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/627/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/627/events","html_url":"https://github.com/hankliu62/interview/issues/627","id":2278734767,"node_id":"I_kwDOLNphd86H0ruv","number":627,"title":"å †æ’åºï¼ˆHeap Sortï¼‰","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6547467878,"node_id":"LA_kwDOLNphd88AAAABhkJuZg","url":"https://api.github.com/repos/hankliu62/interview/labels/algorithm","name":"algorithm","color":"97D3C0","default":false,"description":"ç®—æ³•ç›¸å…³"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/hankliu62/interview/milestones/4","html_url":"https://github.com/hankliu62/interview/milestone/4","labels_url":"https://api.github.com/repos/hankliu62/interview/milestones/4/labels","id":10707687,"node_id":"MI_kwDOLNphd84Ao2Ln","number":4,"title":"4","description":"æè¿°é—®é¢˜éš¾åº¦ï¼Œéš¾åº¦4ğŸŒŸ","creator":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"open_issues":11,"closed_issues":0,"state":"open","created_at":"2024-03-20T03:36:32Z","updated_at":"2024-05-04T04:54:14Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-05-04T04:54:14Z","updated_at":"2024-05-04T04:54:14Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"å †æ’åºï¼ˆHeap Sortï¼‰æ˜¯ä¸€ç§åŸºäºå †æ•°æ®ç»“æ„çš„æ’åºç®—æ³•ï¼Œå®ƒé€šè¿‡å°†å¾…æ’åºçš„åºåˆ—æ„å»ºæˆä¸€ä¸ªå †ï¼Œç„¶åé‡å¤ä»å †é¡¶å–å‡ºæœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…ƒç´ ï¼Œå°†å‰©ä½™çš„å †é‡æ–°è°ƒæ•´ä¸ºä¸€ä¸ªæœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å †ï¼Œç›´åˆ°å †ä¸ºç©ºã€‚ä¸‹é¢æ˜¯å †æ’åºçš„ TypeScript å®ç°ï¼š\r\n\r\n```typescript\r\nfunction heapSort(arr: number[]): number[] {\r\n    // Step 1: æ„å»ºæœ€å¤§å †\r\n    buildMaxHeap(arr);\r\n    \r\n    // Step 2: é‡å¤ä»å †é¡¶å–å‡ºæœ€å¤§å…ƒç´ ï¼Œå°†å‰©ä½™çš„å †é‡æ–°è°ƒæ•´ä¸ºæœ€å¤§å †\r\n    for (let i = arr.length - 1; i > 0; i--) {\r\n        // äº¤æ¢å †é¡¶å…ƒç´ ï¼ˆæœ€å¤§å€¼ï¼‰å’Œå †ä¸­æœ€åä¸€ä¸ªå…ƒç´ \r\n        swap(arr, 0, i);\r\n        // å°†å‰©ä½™å…ƒç´ é‡æ–°è°ƒæ•´ä¸ºæœ€å¤§å †\r\n        maxHeapify(arr, 0, i);\r\n    }\r\n    \r\n    return arr;\r\n}\r\n\r\n// è¾…åŠ©å‡½æ•°ï¼šæ„å»ºæœ€å¤§å †\r\nfunction buildMaxHeap(arr: number[]): void {\r\n    const n = arr.length;\r\n    // ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å‘å‰æ„å»ºæœ€å¤§å †\r\n    for (let i = Math.floor(n / 2) - 1; i >= 0; i--) {\r\n        maxHeapify(arr, i, n);\r\n    }\r\n}\r\n\r\n// è¾…åŠ©å‡½æ•°ï¼šç»´æŠ¤æœ€å¤§å †æ€§è´¨\r\nfunction maxHeapify(arr: number[], i: number, heapSize: number): void {\r\n    const left = 2 * i + 1;\r\n    const right = 2 * i + 2;\r\n    let largest = i;\r\n\r\n    // æ‰¾åˆ°å·¦å³å­èŠ‚ç‚¹ä¸­æœ€å¤§çš„èŠ‚ç‚¹\r\n    if (left < heapSize && arr[left] > arr[largest]) {\r\n        largest = left;\r\n    }\r\n    if (right < heapSize && arr[right] > arr[largest]) {\r\n        largest = right;\r\n    }\r\n\r\n    // å¦‚æœæœ€å¤§èŠ‚ç‚¹ä¸æ˜¯çˆ¶èŠ‚ç‚¹ï¼Œåˆ™äº¤æ¢å¹¶é€’å½’è°ƒæ•´\r\n    if (largest !== i) {\r\n        swap(arr, i, largest);\r\n        maxHeapify(arr, largest, heapSize);\r\n    }\r\n}\r\n\r\n// è¾…åŠ©å‡½æ•°ï¼šäº¤æ¢æ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®\r\nfunction swap(arr: number[], i: number, j: number): void {\r\n    const temp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = temp;\r\n}\r\n\r\n// ç¤ºä¾‹\r\nconst arr = [12, 11, 13, 5, 6, 7];\r\nconsole.log(\"åŸå§‹æ•°ç»„:\", arr);\r\nconsole.log(\"å †æ’åºç»“æœ:\", heapSort(arr));\r\n```\r\n\r\nåœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\r\n\r\n1. **æ„å»ºæœ€å¤§å †ï¼ˆbuildMaxHeapï¼‰**ï¼šä»æ•°ç»„çš„æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œå †è°ƒæ•´ï¼ˆmaxHeapifyï¼‰ï¼Œç¡®ä¿ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘æ»¡è¶³æœ€å¤§å †çš„æ€§è´¨ã€‚\r\n   \r\n2. **é‡å¤ä»å †é¡¶å–å‡ºæœ€å¤§å…ƒç´ å¹¶è°ƒæ•´å †ï¼ˆfor å¾ªç¯ï¼‰**ï¼šæ¯æ¬¡å¾ªç¯å°†å †é¡¶ï¼ˆæœ€å¤§å€¼ï¼‰å’Œå †ä¸­æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œç„¶åå¯¹å‰©ä½™çš„å †é‡æ–°è¿›è¡Œè°ƒæ•´ï¼Œç¡®ä¿å‰©ä½™çš„éƒ¨åˆ†ä»ç„¶æ˜¯æœ€å¤§å †ã€‚\r\n\r\n3. **ç»´æŠ¤æœ€å¤§å †æ€§è´¨ï¼ˆmaxHeapifyï¼‰**ï¼šåœ¨ç»™å®šèŠ‚ç‚¹å¤„ï¼Œæ£€æŸ¥å®ƒä¸å…¶å­èŠ‚ç‚¹çš„å¤§å°å…³ç³»ï¼Œå¹¶ç¡®ä¿è¯¥èŠ‚ç‚¹ä¸å…¶å­èŠ‚ç‚¹ä¸­çš„æœ€å¤§å€¼äº¤æ¢ä½ç½®åï¼Œå­æ ‘ä»ç„¶æ»¡è¶³æœ€å¤§å †çš„æ€§è´¨ã€‚\r\n\r\n4. **äº¤æ¢æ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼ˆswap å‡½æ•°ï¼‰**ï¼šç”¨äºäº¤æ¢æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ ä½ç½®ã€‚\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/627/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}