{"pageProps":{"article":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/401","id":2126299036,"node_id":"I_kwDOBiJZIc5-vL-c","number":401,"title":"webpack插件","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6527252877,"node_id":"LA_kwDOBiJZIc8AAAABhQ35jQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/interview%20questions","name":"interview questions","color":"722ed1","default":false,"description":"面试题"},{"id":6536123165,"node_id":"LA_kwDOBiJZIc8AAAABhZVTHQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/webpack","name":"webpack","color":"923874","default":false,"description":"分类-Webpack相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-09T00:52:11Z","updated_at":"2024-02-09T07:09:23Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"1. 编写一个JavaScript命名函数。\r\n2. 在它的原型上定义一个apply方法。\r\n3. 指定挂载的webpack事件钩子。\r\n4. 处理webpack内部实例的特定数据。\r\n5. 功能完成后调用webpack提供的回调。\r\n\r\n### webpack构建的主要钩子\r\n\r\nCompiler暴露了和webpack整个生命周期相关的钩子\r\n\r\n#### Compiler钩子\r\n\r\n- entryOption: 在 entry 配置项处理过之后，执行插件。\r\n\r\n- afterPlugins: 设置完初始插件之后，执行插件。参数：compiler\r\n\r\n- afterResolvers: resolver 安装完成之后，执行插件。参数：compiler\r\n\r\n- environment: environment 准备好之后，执行插件。\r\n\r\n- afterEnvironment: environment 安装完成之后，执行插件。\r\n\r\n- beforeRun: compiler.run() 执行之前，添加一个钩子。参数：compiler\r\n\r\n- run: 开始读取 records 之前，钩入(hook into) compiler。参数：compiler\r\n\r\n- watchRun: 监听模式下，一个新的编译(compilation)触发之后，执行一个插件，但是是在实际编译开始之前。参数：compiler\r\n\r\n- watchRun: 监听模式下，一个新的编译(compilation)触发之后，执行一个插件，但是是在实际编译开始之前。参数：compiler\r\n\r\n- normalModuleFactory: NormalModuleFactory 创建之后，执行插件。参数：normalModuleFactory\r\n\r\n- contextModuleFactory: ContextModuleFactory 创建之后，执行插件。参数：contextModuleFactory\r\n\r\n- beforeCompile: 编译(compilation)参数创建之后，执行插件。参数：compilationParams\r\n\r\n- compile: 一个新的编译(compilation)创建之后，钩入(hook into) compiler。参数：compilationParams\r\n\r\n- thisCompilation: 触发 compilation 事件之前执行（查看下面的 compilation）。参数：compilation\r\n\r\n- compilation: 编译(compilation)创建之后，执行插件。参数：compilation\r\n\r\n- make: 分析模块依赖。参数：compilation\r\n\r\n- afterCompile:\r\n\r\n- shouldEmit: 此时返回 true/false。参数：compilation\r\n\r\n- needAdditionalPass:\r\n\r\n- emit: 生成资源到 output 目录之前。参数：compilation\r\n\r\n- afterEmit: 生成资源到 output 目录之后。参数：compilation\r\n\r\n- done: 编译(compilation)完成。参数：stats\r\n\r\n- failed: 编译(compilation)失败。参数：error\r\n\r\n- invalid: 监听模式下，编译无效时。参数：fileName, changeTime\r\n\r\n- watchClose: 监听模式停止\r\n\r\n#### Compilation钩子\r\n\r\nCompilation暴露了与模块和依赖有关的粒度更小的事件钩子。\r\n\r\n在编译阶段，模块会被加载(loaded)、封存(sealed)、优化(optimized)、分块(chunked)、哈希(hashed)和重新创建(restored)。\r\n\r\n从上面的示例可以看到，compilation是Compiler生命周期中的一个步骤，使用compilation相关钩子的通用写法为:\r\n\r\n- buildModule: 在模块构建开始之前触发。参数：module\r\n\r\n- rebuildModule: 在重新构建一个模块之前触发。参数：module\r\n\r\n...\r\n\r\n- seal: 编译(compilation)停止接收新模块时触发。\r\n\r\n- unseal: 编译(compilation)开始接收新模块时触发。\r\n\r\n...\r\n\r\n- optimize: 优化阶段开始时触发。","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/401/timeline","performed_via_github_app":null,"state_reason":null},"menus":["### webpack构建的主要钩子","#### Compiler钩子","#### Compilation钩子"]},"__N_SSG":true}