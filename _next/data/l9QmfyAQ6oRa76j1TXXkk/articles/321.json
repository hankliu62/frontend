{"pageProps":{"article":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/321","id":2125614349,"node_id":"I_kwDOBiJZIc5-sk0N","number":321,"title":"性能优化","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6527252877,"node_id":"LA_kwDOBiJZIc8AAAABhQ35jQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/interview%20questions","name":"interview questions","color":"722ed1","default":false,"description":"面试题"},{"id":6536681139,"node_id":"LA_kwDOBiJZIc8AAAABhZ3Wsw","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/engine","name":"engine","color":"1d76db","default":false,"description":"分类-工程化相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-08T16:36:56Z","updated_at":"2024-02-09T07:41:19Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"**如何进行网站性能优化**\r\n\r\n- content方面\r\n  - 减少HTTP请求：合并文件、CSS精灵、inline Image\r\n  - 减少DNS查询：DNS查询完成之前浏览器不能从这个主机下载任何任何文件。方法：DNS缓存、将资源分布到恰当数量的主机名，平衡并行下载和DNS查询\r\n  - 避免重定向：多余的中间访问\r\n  - 使Ajax可缓存\r\n  - 非必须组件延迟加载\r\n  - 未来所需组件预加载\r\n  - 减少DOM元素数量\r\n  - 将资源放到不同的域下：浏览器同时从一个域下载资源的数目有限，增加域可以提高并行下载量\r\n  - 减少iframe数量\r\n  - 不要404\r\n\r\n- Server方面\r\n  - 使用CDN\r\n  - 添加Expires或者Cache-Control响应头\r\n  - 对组件使用Gzip压缩\r\n  - 配置ETag\r\n  - Flush Buffer Early\r\n  - Ajax使用GET进行请求\r\n  - 避免空src的img标签\r\n- Cookie方面\r\n  - 减小cookie大小\r\n  - 引入资源的域名不要包含cookie\r\n\r\n- css方面\r\n  - 将样式表放到页面顶部\r\n  - 不使用CSS表达式\r\n  - 不使用IE的Filter\r\n\r\n- Javascript方面\r\n  - 将脚本放到页面底部\r\n  - 将javascript和css从外部引入\r\n  - 压缩javascript和css\r\n  - 删除不需要的脚本\r\n  - 减少DOM访问\r\n  - 合理设计事件监听器\r\n\r\n- 图片方面\r\n  - 优化图片：根据实际颜色需要选择色深、压缩\r\n  - 优化css精灵\r\n  - 不要在HTML中拉伸图片\r\n  - 保证favicon.ico小并且可缓存\r\n\r\n- 移动方面\r\n  - 保证组件小于25k\r\n  - `Pack Components into a Multipart Document`\r\n\r\n**你有用过哪些前端性能优化的方法？**\r\n\r\n- 减少http请求次数：CSS Sprites, JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。\r\n-  前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数\r\n-  用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能。\r\n-  当需要设置的样式很多时设置className而不是直接操作style\r\n-  少用全局变量、缓存DOM节点查找的结果。减少IO读取操作\r\n-  避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)\r\n-  图片预加载，将样式表放在顶部，将脚本放在底部  加上时间戳\r\n-  避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢\r\n\r\n**谈谈性能优化问题**\r\n\r\n- 代码层面：避免使用css表达式，避免使用高级选择器，通配选择器\r\n- 缓存利用：缓存Ajax，使用CDN，使用外部js和css文件以便缓存，添加Expires头，服务端配置Etag，减少DNS查找等\r\n- 请求数量：合并样式和脚本，使用css图片精灵，初始首屏之外的图片资源按需加载，静态资源延迟加载\r\n- 请求带宽：压缩文件，开启GZIP\r\n\r\n**代码层面的优化**\r\n- 用hash-table来优化查找\r\n\r\n- 少用全局变量\r\n\r\n- 用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能\r\n\r\n- 用setTimeout来避免页面失去响应\r\n\r\n- 缓存DOM节点查找的结果\r\n\r\n- 避免使用CSS Expression\r\n\r\n- 避免全局查询\r\n\r\n- 避免使用with(with会创建自己的作用域，会增加作用域链长度)\r\n\r\n- 多个变量声明合并\r\n\r\n- 避免图片和iFrame等的空Src。空Src会重新加载当前页面，影响速度和效率\r\n\r\n- 尽量避免写在HTML标签中写Style属性\r\n\r\n**前端性能优化最佳实践？**\r\n\r\n* 性能评级工具（PageSpeed 或 YSlow）\r\n* 合理设置 HTTP 缓存：Expires 与 Cache-control\r\n* 静态资源打包，开启 Gzip 压缩（节省响应流量）\r\n* CSS3 模拟图像，图标base64（降低请求数）\r\n* 模块延迟(defer)加载/异步(async)加载\r\n* Cookie 隔离（节省请求流量）\r\n* localStorage（本地存储）\r\n* 使用 CDN 加速（访问最近服务器）\r\n* 启用 HTTP/2（多路复用，并行加载）\r\n* 前端自动化（gulp/webpack）","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/321/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}