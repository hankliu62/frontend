{"pageProps":{"article":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/307","id":2125612955,"node_id":"I_kwDOBiJZIc5-skeb","number":307,"title":"事件机制","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6527252877,"node_id":"LA_kwDOBiJZIc8AAAABhQ35jQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/interview%20questions","name":"interview questions","color":"722ed1","default":false,"description":"面试题"},{"id":6536875857,"node_id":"LA_kwDOBiJZIc8AAAABhaDPUQ","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/html","name":"html","color":"13c2c2","default":false,"description":"分类-HTML相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-02-08T16:36:10Z","updated_at":"2024-02-09T07:46:12Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"### 1.1 事件触发三阶段\r\n\r\n- document 往事件触发处传播，遇到注册的捕获事件会触发\r\n- 传播到事件触发处时触发注册的事件\r\n- 从事件触发处往 document 传播，遇到注册的冒泡事件会触发\r\n\r\n> 事件触发一般来说会按照上面的顺序进行，但是也有特例，如果给一个目标节点同时注册冒泡和捕获事件，事件触发会按照注册的顺序执行\r\n\r\n```\r\n// 以下会先打印冒泡然后是捕获\r\nnode.addEventListener('click',(event) =>{\r\n\tconsole.log('冒泡')\r\n},false);\r\nnode.addEventListener('click',(event) =>{\r\n\tconsole.log('捕获 ')\r\n},true)\r\n```\r\n\r\n### 1.2 注册事件\r\n\r\n- 通常我们使用 `addEventListener` 注册事件，该函数的第三个参数可以是布尔值，也可以是对象。对于布尔值 `useCapture` 参数来说，该参数默认值为 `false` 。`useCapture` 决定了注册的事件是捕获事件还是冒泡事件\r\n- 一般来说，我们只希望事件只触发在目标上，这时候可以使用 `stopPropagation` 来阻止事件的进一步传播。通常我们认为 `stopPropagation` 是用来阻止事件冒泡的，其实该函数也可以阻止捕获事件。`stopImmediatePropagation` 同样也能实现阻止事件，但是还能阻止该事件目标执行别的注册事件\r\n\r\n```javascript\r\nnode.addEventListener('click',(event) =>{\r\n\tevent.stopImmediatePropagation()\r\n\tconsole.log('冒泡')\r\n},false);\r\n// 点击 node 只会执行上面的函数，该函数不会执行\r\nnode.addEventListener('click',(event) => {\r\n\tconsole.log('捕获 ')\r\n},true)\r\n```\r\n\r\n### 1.3 事件代理\r\n\r\n> 如果一个节点中的子节点是动态生成的，那么子节点需要注册事件的话应该注册在父节点上\r\n\r\n```html\r\n<ul id=\"ul\">\r\n\t<li>1</li>\r\n    <li>2</li>\r\n\t<li>3</li>\r\n\t<li>4</li>\r\n\t<li>5</li>\r\n</ul>\r\n<script>\r\n\tlet ul = document.querySelector('##ul')\r\n\tul.addEventListener('click', (event) => {\r\n\t\tconsole.log(event.target);\r\n\t})\r\n</script>\r\n```\r\n\r\n> 事件代理的方式相对于直接给目标注册事件来说，有以下优点\r\n\r\n- 节省内存\r\n- 不需要给子节点注销事件","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/307/timeline","performed_via_github_app":null,"state_reason":null},"menus":["### 1.1 事件触发三阶段","### 1.2 注册事件","### 1.3 事件代理"]},"__N_SSG":true}