{"pageProps":{"issue":{"url":"https://api.github.com/repos/hankliu62/interview/issues/573","repository_url":"https://api.github.com/repos/hankliu62/interview","labels_url":"https://api.github.com/repos/hankliu62/interview/issues/573/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/interview/issues/573/comments","events_url":"https://api.github.com/repos/hankliu62/interview/issues/573/events","html_url":"https://github.com/hankliu62/interview/issues/573","id":2181350566,"node_id":"I_kwDOLNphd86CBMSm","number":573,"title":"Web安全之充分利用 X-Content-Type-Options","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":6547468186,"node_id":"LA_kwDOLNphd88AAAABhkJvmg","url":"https://api.github.com/repos/hankliu62/interview/labels/network","name":"network","color":"D613F5","default":false,"description":"网络相关"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-03-12T11:11:51Z","updated_at":"2024-03-12T11:11:52Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"X-Content-Type-Options 是一个 HTTP 响应头，用于防止浏览器对响应内容的 MIME 类型进行嗅探或猜测。当设置为 nosniff 时，它告诉浏览器应该严格按照响应头中 Content-Type 字段所指定的类型来处理资源，而不应该根据文件扩展名、文件内容或其他因素来尝试重新确定资源的类型。\r\n\r\n使用 X-Content-Type-Options 可以提高网站的安全性，因为它可以防止某些类型的攻击，例如 MIME 类型混淆攻击。这种攻击通常涉及将恶意内容伪装成合法的资源类型（如 JavaScript 文件），然后利用浏览器对 MIME 类型的错误处理来执行恶意代码。\r\n\r\n要在你的 web 服务器上设置 X-Content-Type-Options 响应头，你需要根据你的服务器软件（如 Apache、Nginx、IIS 等）进行配置。下面是一些常见的服务器配置示例：\r\n\r\n1. Apache\r\n在 Apache 中，你可以使用 mod_headers 模块来设置响应头。在你的网站配置文件中添加以下行：\r\n\r\n``` apache\r\nHeader set X-Content-Type-Options \"nosniff\"\r\n``` \r\n\r\n2. Nginx\r\n在 Nginx 中，你可以在 http、server 或 location 块中添加 add_header 指令来设置响应头：\r\n\r\n``` nginx\r\nadd_header X-Content-Type-Options \"nosniff\";\r\n```\r\n\r\n3. IIS\r\n在 IIS 中，你可以使用 web.config 文件来设置响应头。在 <system.webServer> 部分添加以下配置：\r\n\r\n``` xml\r\n<httpProtocol>\r\n  <customHeaders>\r\n    <add name=\"X-Content-Type-Options\" value=\"nosniff\" />\r\n  </customHeaders>\r\n</httpProtocol>\r\n```\r\n\r\n4. Node.js (使用 Express)\r\n如果你使用 Node.js 和 Express 框架，你可以在应用程序中添加中间件来设置响应头：\r\n\r\n```javascript\r\napp.use((req, res, next) => {\r\n  res.setHeader('X-Content-Type-Options', 'nosniff');\r\n  next();\r\n});\r\n```\r\n请确保你的服务器配置正确，并且 X-Content-Type-Options 头部已正确设置。这样，浏览器在接收响应时就会遵守该头部的指示，从而提高应用程序的安全性。","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/interview/issues/573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/interview/issues/573/timeline","performed_via_github_app":null,"state_reason":null},"menus":[]},"__N_SSG":true}