{"pageProps":{"article":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64","repository_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com","labels_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64/labels{/name}","comments_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64/comments","events_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64/events","html_url":"https://github.com/hankliu62/hankliu62.github.com/issues/64","id":1499467954,"node_id":"I_kwDOBiJZIc5ZYBCy","number":64,"title":"前端调试工具 Whistle","user":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"labels":[{"id":688950687,"node_id":"MDU6TGFiZWw2ODg5NTA2ODc=","url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/labels/blog","name":"blog","color":"1677ff","default":false,"description":"博客文章"}],"state":"open","locked":false,"assignee":{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false},"assignees":[{"login":"hankliu62","id":8088864,"node_id":"MDQ6VXNlcjgwODg4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8088864?v=4","gravatar_id":"","url":"https://api.github.com/users/hankliu62","html_url":"https://github.com/hankliu62","followers_url":"https://api.github.com/users/hankliu62/followers","following_url":"https://api.github.com/users/hankliu62/following{/other_user}","gists_url":"https://api.github.com/users/hankliu62/gists{/gist_id}","starred_url":"https://api.github.com/users/hankliu62/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hankliu62/subscriptions","organizations_url":"https://api.github.com/users/hankliu62/orgs","repos_url":"https://api.github.com/users/hankliu62/repos","events_url":"https://api.github.com/users/hankliu62/events{/privacy}","received_events_url":"https://api.github.com/users/hankliu62/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-12-16T02:35:56Z","updated_at":"2022-12-16T02:53:10Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"body":"## 背景\r\n\r\n很多时候前端需要在手机上调试本机开发环境，大部分的场景可以通过访问本机的ip就可以解决了，但是仍有一些特定的页面需要固定访问的域名，如需要微信授权的页面需要域名，不然得不到授权无法完成接下来的授权操作。因此，我们需要一个工具可以设置代理，可以用测试环境的域名访问本地环境。\r\n\r\n## 简介\r\n\r\n基于Node实现的跨平台web调试代理工具，类似的工具有Windows平台上的Fiddler，主要用于查看、修改HTTP、HTTPS、Websocket的请求、响应，也可以作为HTTP代理服务器使用，不同于Fiddler通过断点修改请求响应的方式，whistle采用的是类似配置系统hosts的方式，一切操作都可以通过配置实现，支持域名、路径、正则表达式、通配符、通配路径等多种匹配方式，且可以通过Node模块扩展功能。\r\n\r\n## 安装\r\n\r\n### mac \r\n\r\n#### x84\r\n\r\n支持使用brew进行安装\r\n\r\n``` bash\r\nbrew install whistle\r\nw2 start --init\r\n```\r\n\r\n注：针对于64位的mac系统，即使通过brew进行安装，也无法识别w2语法。\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208008314-4a8b2f40-9842-491a-ac4b-5e8283aa087c.png)\r\n\r\n\r\n#### arm64\r\n\r\n使用npm进行安装\r\n\r\n``` bash\r\nbrew install node\r\nnpm i -g whistle\r\nw2 start --init\r\n```\r\n\r\n### 通用\r\n依赖弄的环境，且要求node v14以上版本\r\n\r\n系统安装node：\r\nhttp://nodejs.cn/download/\r\n\r\n系统安装NPM ：\r\n[npm 安装文档 | npm 中文网](http://caibaojian.com/npm/all.html)\r\n\r\n``` bash\r\n# 需要先安装node 14及以上版本\r\n# 安装node https://nodejs.org/\r\nnpm i -g whistle\r\nw2 start --init\r\n```\r\n\r\n## 命令\r\n\r\n### 查看 whistle 是否安装成功\r\n``` bash \r\nw2 --help\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208009453-e046d53b-ae22-4ef5-a333-5de9dca57a2d.png)\r\n\r\n### 启动服务\r\n\r\n#### 前台运行服务\r\n``` bash\r\nw2 run --init\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208010345-563077a0-374c-4c86-8b50-775f048f5cee.png)\r\n\r\n#### 后台运行服务\r\n\r\n``` bash\r\nw2 start --init\r\n```\r\n![image](https://user-images.githubusercontent.com/8088864/208010428-b891d749-f38f-43fb-b3a0-e7f2a26db049.png)\r\n\r\n### 停止服务\r\n\r\n针对后台运行的服务，可以使用下列命令停止后台运行\r\n``` bash\r\nw2 stop\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208011100-44837b29-5823-4d8f-9cd6-9461f31b1267.png)\r\n\r\n每次运行该命令时，如遇到浏览器无法访问网页时，请执行以下操作： 依次转到“应用”>“系统偏好设置”>“网络”>“高级”>“代理”，然后取消选中所有已选的代理。\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208010997-b6d67768-f64c-4de3-a5a9-10288dc276c3.png)\r\n\r\n![image](https://user-images.githubusercontent.com/8088864/208011242-755067d1-b001-47f5-a409-b2090d188ea4.png)\r\n\r\n\r\n## 用途\r\n1. 为手机页面提供测试环境代理\r\n2. 前端页面远程调试\r\n3. 查看页面元素\r\n4. mock数据\r\n5. 替换js文件\r\n6. 接口转发\r\n7. 注入前端代码\r\n8. 添加请求头\r\n9. 添加响应头\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hankliu62/hankliu62.github.com/issues/64/timeline","performed_via_github_app":null,"state_reason":null},"menus":["## 背景","## 简介","## 安装","### mac ","#### x84","#### arm64","### 通用","## 命令","### 查看 whistle 是否安装成功","### 启动服务","#### 前台运行服务","#### 后台运行服务","### 停止服务","## 用途"]},"__N_SSG":true}