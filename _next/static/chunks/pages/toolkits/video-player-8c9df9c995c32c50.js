(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5007],{74776:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/toolkits/video-player",function(){return s(8337)}])},8337:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return m}});var r,a,n=s(85893),t=s(61727),i=s(41782),c=s(34037),u=s(78971),d=s(67294),o=s(94184),f=s.n(o),x=s(85215);(r=a||(a={})).VideoJs="VideoJs",r.OddPlayerJs="OddPlayerJs";var p=(0,d.forwardRef)((e,l)=>{let{className:s,source:r,type:t=a.VideoJs}=e,i=(0,d.useRef)(),c=(0,d.useRef)(null),u=(0,d.useCallback)(()=>(i.current||t!==a.VideoJs||(i.current=(0,x.Z)("videoPlayer",{autoplay:!1,muted:!0,preload:"auto",controls:!0})),i.current),[t]),o=(0,d.useCallback)(()=>{let e=u();t===a.VideoJs?null==e||e.play():null==e||e.play(r)},[u,t,r]),p=(0,d.useCallback)(()=>{let e=u();t===a.VideoJs?null==e||e.pause():null==e||e.pause(r)},[u,t,r]);return(0,d.useImperativeHandle)(l,()=>({getVideoPlayer:u,play:o,pause:p}),[u,p,o]),(0,d.useEffect)(()=>(i.current=u(),()=>{i.current.dispose(),i.current=void 0}),[]),(0,d.useEffect)(()=>{i.current&&i.current.reset(),i.current&&r&&i.current.src({withCredentials:!1,type:"application/x-mpegurl",src:r})},[r]),(0,n.jsx)("div",{className:f()("relative",{[s]:s}),children:t===a.VideoJs?(0,n.jsx)("video",{id:"videoPlayer",className:"video-js vjs-default-skin h-full w-full object-fill",controls:!0}):(0,n.jsx)("div",{ref:c,id:"videoPlayer",className:"h-full w-full object-fill"})})});let v=i.Z.TextArea;function m(){let[e,l]=(0,d.useState)(),s=(0,d.useRef)(),r=(0,d.useCallback)(()=>{if(!e){c.ZP.error("请输入视频数据源");return}s.current.play()},[e]);return(0,n.jsx)("div",{className:"bg-white p-6",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-base font-normal",children:"视频数据源: "}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(v,{className:"w-full",autoSize:{minRows:3,maxRows:20},value:e,onChange:e=>l(e.target.value),placeholder:"请输入视频数据源，支持m3u8、flv、rtmp、RTS等格式的视频"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,n.jsx)("label",{className:"text-base font-normal",children:"案例展示: "}),(0,n.jsx)("div",{className:"flex items-center space-x-5",children:(0,n.jsx)(u.ZP,{className:"!inline-flex items-center",icon:(0,n.jsx)(t.Z,{rev:void 0}),onClick:r,children:"立即播放"})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(p,{className:"h-[800px]",ref:s,source:e})})]})]})})}},25893:function(){}},function(e){e.O(0,[2544,8971,4037,1782,8764,7815,9774,2888,179],function(){return e(e.s=74776)}),_N_E=e.O()}]);