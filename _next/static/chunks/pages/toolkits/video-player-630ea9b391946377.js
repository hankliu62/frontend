(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5007],{74776:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/toolkits/video-player",function(){return s(81349)}])},81349:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return v}});var r,a,n=s(85893),t=s(21365),i=s(28164),c=s(4486),u=s(48951),d=s(67294),o=s(93967),f=s.n(o),x=s(85215);(r=a||(a={})).VideoJs="VideoJs",r.OddPlayerJs="OddPlayerJs";var p=(0,d.forwardRef)((e,l)=>{let{className:s,source:r,type:a="VideoJs"}=e,t=(0,d.useRef)(),i=(0,d.useRef)(null),c=(0,d.useCallback)(()=>(t.current||"VideoJs"!==a||(t.current=(0,x.Z)("videoPlayer",{autoplay:!1,muted:!0,preload:"auto",controls:!0})),t.current),[a]),u=(0,d.useCallback)(()=>{let e=c();"VideoJs"===a?null==e||e.play():null==e||e.play(r)},[c,a,r]),o=(0,d.useCallback)(()=>{let e=c();"VideoJs"===a?null==e||e.pause():null==e||e.pause(r)},[c,a,r]);return(0,d.useImperativeHandle)(l,()=>({getVideoPlayer:c,play:u,pause:o}),[c,o,u]),(0,d.useEffect)(()=>(t.current=c(),()=>{t.current.dispose(),t.current=void 0}),[]),(0,d.useEffect)(()=>{t.current&&t.current.reset(),t.current&&r&&t.current.src({withCredentials:!1,type:"application/x-mpegurl",src:r})},[r]),(0,n.jsx)("div",{className:f()("relative",{[s]:s}),children:"VideoJs"===a?(0,n.jsx)("video",{id:"videoPlayer",className:"video-js vjs-default-skin h-full w-full object-fill",controls:!0}):(0,n.jsx)("div",{ref:i,id:"videoPlayer",className:"h-full w-full object-fill"})})});let m=i.Z.TextArea;function v(){let[e,l]=(0,d.useState)(),s=(0,d.useRef)(),r=(0,d.useCallback)(()=>{if(!e){c.ZP.error("请输入视频数据源");return}s.current.play()},[e]);return(0,n.jsx)("div",{className:"bg-white p-6",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-base font-normal",children:"视频数据源: "}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(m,{className:"w-full",autoSize:{minRows:3,maxRows:20},value:e,onChange:e=>l(e.target.value),placeholder:"请输入视频数据源，支持m3u8、flv、rtmp、RTS等格式的视频"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between pb-4",children:[(0,n.jsx)("label",{className:"text-base font-normal",children:"案例展示: "}),(0,n.jsx)("div",{className:"flex items-center space-x-5",children:(0,n.jsx)(u.ZP,{className:"!inline-flex items-center",icon:(0,n.jsx)(t.Z,{}),onClick:r,children:"立即播放"})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(p,{className:"h-[800px]",ref:s,source:e})})]})]})})}},25893:function(){}},function(e){e.O(0,[2544,8991,8951,4486,4833,8164,8764,4946,2888,9774,179],function(){return e(e.s=74776)}),_N_E=e.O()}]);