(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5134],{64392:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return n(81325)}])},37172:function(e,t,n){"use strict";n.d(t,{$o:function(){return s},CI:function(){return r},h2:function(){return l},ou:function(){return a},oz:function(){return i},yq:function(){return o}});let o=["g","h","p","_","E","v","x","J","M","b","F","v","K","g","B","w","r","g","L","N","2","5","H","Y","o","1","v","n","g","R","9","4","9","4","2","d","P","p","F","p"],i="https://api.github.com",r="https://github.com",l="hankliu62",s="hankliu62.github.com",a="2022-11-28"},81325:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return X},default:function(){return $}});var o,i,r=n(85893),l=n(65184),s=n(22377),a=n(233),d=n(79912),u=n(15671),c=n(43144),f=n(60136),p=n(73568),h=n(94184),m=n.n(h),v=n(9220),x=n(98423),g=n(67294),w=n(74902),b=n(75164),N=function(e){let t;let n=n=>()=>{t=null,e.apply(void 0,(0,w.Z)(n))},o=function(){if(null==t){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];t=(0,b.Z)(n(o))}};return o.cancel=()=>{b.Z.cancel(t),t=null},o},y=n(15479),j=n(22954),P=n(75769);let k=e=>{let{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}};var E=(0,j.Z)("Affix",e=>{let t=(0,P.TS)(e,{zIndexPopup:e.zIndexBase+10});return[k(t)]});function C(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function F(e,t,n){if(void 0!==n&&t.top>e.top-n)return n+t.top}function _(e,t,n){if(void 0!==n&&t.bottom<e.bottom+n){let e=window.innerHeight-t.bottom;return n+e}}let T=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Z(){return window}(o=i||(i={}))[o.None=0]="None",o[o.Prepare=1]="Prepare";let L=function(e){(0,f.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.apply(this,arguments),e.state={status:i.None,lastAffix:!1,prevTarget:null},e.placeholderNodeRef=(0,g.createRef)(),e.fixedNodeRef=(0,g.createRef)(),e.addListeners=()=>{let t=e.getTargetFunc(),n=null==t?void 0:t(),{prevTarget:o}=e.state;o!==n&&(T.forEach(t=>{null==o||o.removeEventListener(t,e.lazyUpdatePosition),null==n||n.addEventListener(t,e.lazyUpdatePosition)}),e.updatePosition(),e.setState({prevTarget:n}))},e.removeListeners=()=>{e.timer&&(clearTimeout(e.timer),e.timer=null);let{prevTarget:t}=e.state,n=e.getTargetFunc(),o=null==n?void 0:n();T.forEach(n=>{null==o||o.removeEventListener(n,e.lazyUpdatePosition),null==t||t.removeEventListener(n,e.lazyUpdatePosition)}),e.updatePosition.cancel(),e.lazyUpdatePosition.cancel()},e.getOffsetTop=()=>{let{offsetBottom:t,offsetTop:n}=e.props;return void 0===t&&void 0===n?0:n},e.getOffsetBottom=()=>e.props.offsetBottom,e.measure=()=>{let{status:t,lastAffix:n}=e.state,{onChange:o}=e.props,r=e.getTargetFunc();if(t!==i.Prepare||!e.fixedNodeRef.current||!e.placeholderNodeRef.current||!r)return;let l=e.getOffsetTop(),s=e.getOffsetBottom(),a=r();if(a){let t={status:i.None},r=C(e.placeholderNodeRef.current);if(0===r.top&&0===r.left&&0===r.width&&0===r.height)return;let d=C(a),u=F(r,d,l),c=_(r,d,s);void 0!==u?(t.affixStyle={position:"fixed",top:u,width:r.width,height:r.height},t.placeholderStyle={width:r.width,height:r.height}):void 0!==c&&(t.affixStyle={position:"fixed",bottom:c,width:r.width,height:r.height},t.placeholderStyle={width:r.width,height:r.height}),t.lastAffix=!!t.affixStyle,o&&n!==t.lastAffix&&o(t.lastAffix),e.setState(t)}},e.prepareMeasure=()=>{e.setState({status:i.Prepare,affixStyle:void 0,placeholderStyle:void 0})},e.updatePosition=N(()=>{e.prepareMeasure()}),e.lazyUpdatePosition=N(()=>{let t=e.getTargetFunc(),{affixStyle:n}=e.state;if(t&&n){let o=e.getOffsetTop(),i=e.getOffsetBottom(),r=t();if(r&&e.placeholderNodeRef.current){let t=C(r),l=C(e.placeholderNodeRef.current),s=F(l,t,o),a=_(l,t,i);if(void 0!==s&&n.top===s||void 0!==a&&n.bottom===a)return}}e.prepareMeasure()}),e}return(0,c.Z)(n,[{key:"getTargetFunc",value:function(){let{getTargetContainer:e}=this.context,{target:t}=this.props;return void 0!==t?t:null!=e?e:Z}},{key:"componentDidMount",value:function(){this.timer=setTimeout(this.addListeners)}},{key:"componentDidUpdate",value:function(e){this.addListeners(),(e.offsetTop!==this.props.offsetTop||e.offsetBottom!==this.props.offsetBottom)&&this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){let{affixStyle:e,placeholderStyle:t}=this.state,{affixPrefixCls:n,rootClassName:o,children:i}=this.props,r=m()(e&&o,{[n]:!!e}),l=(0,x.Z)(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls","rootClassName"]);return g.createElement(v.Z,{onResize:this.updatePosition},g.createElement("div",Object.assign({},l,{ref:this.placeholderNodeRef}),e&&g.createElement("div",{style:t,"aria-hidden":"true"}),g.createElement("div",{className:r,ref:this.fixedNodeRef,style:e},g.createElement(v.Z,{onResize:this.updatePosition},i))))}}]),n}(g.Component);L.contextType=y.E_;let R=(0,g.forwardRef)((e,t)=>{let{prefixCls:n,rootClassName:o}=e,{getPrefixCls:i}=(0,g.useContext)(y.E_),r=i("affix",n),[l,s]=E(r),a=Object.assign(Object.assign({},e),{affixPrefixCls:r,rootClassName:m()(o,s)});return l(g.createElement(L,Object.assign({},a,{ref:t})))});var S=n(74293),B=n(27484),z=n.n(B),O=n(5152),A=n.n(O),M=n(12918),I=n.n(M),D=n(41664),U=n.n(D),Y=n(11163),H=n(37172);let q=A()(()=>Promise.all([n.e(8569),n.e(9523)]).then(n.bind(n,49523)),{loadableGenerated:{webpack:()=>[null]},ssr:!1});var X=!0;function $(e){var t;let{issue:n,menus:o}=e,i=(0,Y.useRouter)(),[u,c]=(0,g.useState)(!0),f=(0,g.useMemo)(()=>{let e=Number.MAX_VALUE,t=[];for(let n of o){let o=n.replace(/^(#+)\s(.*)/,"$1").length;e=Math.min(o,e);let i=n.replace(/^#+\s/,""),r=i.toLowerCase().replace(/\s/g,"-").replace(/[\u3002\uFF1F\uFF0C\uFF1A\u201C-\u201D\uFF08-\uFF09\u3001\uFF1B\uFF1A]/g,"");t.push({id:r,text:n,href:"#".concat(r),title:i,prefixLength:o})}return t.map(t=>({...t,minPrefixLength:e,paddingLeft:(t.prefixLength-e)*16+16}))},[o]),p=function(e){var t,n;let[o,i]=(0,g.useState)((null===(t=e[0])||void 0===t?void 0:t.id)||(null===(n=e[0])||void 0===n?void 0:n.title)),r=(0,g.useCallback)(e=>e.map(e=>{let{id:t}=e,n=document.getElementById(t);if(!n)return;let o=window.getComputedStyle(n),i=Number.parseFloat(o.scrollMarginTop),r=window.scrollY+n.getBoundingClientRect().top-i;return{id:t,top:r}}),[]);return(0,g.useEffect)(()=>{if(0===e.length)return;let t=r(e);function n(){if(t.filter(Boolean).length!==e.length&&(t=r(e)),0===t.filter(Boolean).length)return;let n=window.scrollY,o=t[0].id;for(let e of t)if(e&&n>=e.top)o=e.id;else break;i(o)}return window.addEventListener("scroll",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n,{passive:!0})}},[r,e]),o}(f);function h(e){return e.id===p||!!e.children&&e.children.findIndex(e=>h(e))>-1}return i.isFallback||(null==n?void 0:n.number)?(0,r.jsxs)("div",{className:"flex space-x-6 bg-white p-6",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(s.Z,{className:"article-card min-h-full !border-[#d9d9d9]",children:(0,r.jsxs)("article",{children:[(0,r.jsx)("header",{children:(0,r.jsx)("h1",{className:"mb-5 text-4xl font-bold",children:n.title})}),(0,r.jsxs)("section",{className:"mb-12 flex items-center space-x-8",children:[(0,r.jsxs)(a.Z,{onClick:e=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),(null==e?void 0:e.preventDefault)&&e.preventDefault(),window.open("".concat(H.CI,"/").concat(H.h2,"/").concat(H.$o,"/issues/").concat(null==n?void 0:n.number),"_blank")},className:"group cursor-pointer",children:[(0,r.jsx)(l.Z,{className:"group-hover:text-[#1171ee]",rev:void 0}),(0,r.jsx)("span",{className:"group-hover:text-[#1171ee]",children:"#".concat(null==n?void 0:n.number)})]},"list-vertical-id"),(0,r.jsx)(a.Z,{onClick:e=>{var t;(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),(null==e?void 0:e.preventDefault)&&e.preventDefault(),window.open("".concat(H.CI,"/").concat(null==n?void 0:null===(t=n.assignee)||void 0===t?void 0:t.login),"_blank")},className:"group cursor-pointer",children:(0,r.jsx)("span",{className:"group-hover:text-sky-500",children:null==n?void 0:null===(t=n.assignee)||void 0===t?void 0:t.login})},"list-vertical-user"),(0,r.jsx)(a.Z,{children:(0,r.jsx)("span",{className:"text-[#8a919f]",children:(null==n?void 0:n.created_at)&&z()(null==n?void 0:n.created_at).format("YYYY-MM-DD HH:mm:ss")})}),(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-start",children:((null==n?void 0:n.labels)||[]).map(e=>(0,r.jsx)(d.Z,{color:"#".concat(e.color),children:e.name},e.id))})})]}),(0,r.jsx)("section",{children:(0,r.jsx)(q,{source:n.body||""})})]})})}),(0,r.jsx)("div",{className:"w-64 bg-white",children:(0,r.jsx)(R,{offsetTop:60,children:(0,r.jsx)(S.Z,{className:"question-menus-collapse",defaultActiveKey:["menu"],onChange:e=>{c(e.includes("labels"))},expandIconPosition:"end",items:[{key:"menu",label:(0,r.jsx)("span",{className:"text-base",children:"目录"}),children:(0,r.jsx)("ul",{className:"max-h-[520px] list-none space-y-3 overflow-y-auto text-slate-500 dark:text-slate-400",children:f.map(e=>(0,r.jsx)("li",{id:e.text,className:m()("border-0 !border-l-2 border-solid border-transparent pr-[16px] text-base",{"!border-sky-500":h(e)}),children:(0,r.jsx)(U(),{href:e.href,className:m()("w-full overflow-hidden !text-[#515767]",h(e)?"!text-sky-500":"!hover:text-slate-600 !dark:hover:text-slate-300"),children:(0,r.jsx)("div",{className:"truncate",style:{paddingLeft:"".concat(e.paddingLeft,"px")},children:e.title})})},e.title))}),extra:(0,r.jsx)("div",{className:"-mr-2",children:u?"收起":"展开"})}]})})})]}):(0,r.jsx)(I(),{statusCode:404})}},12918:function(e,t,n){e.exports=n(89185)}},function(e){e.O(0,[6323,9220,3768,9691,8652,1664,399,9774,2888,179],function(){return e(e.s=64392)}),_N_E=e.O()}]);