(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2971],{99204:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions",function(){return n(98640)}])},37172:function(e,t,n){"use strict";n.d(t,{$o:function(){return o},CI:function(){return l},h2:function(){return i},ou:function(){return r},oz:function(){return a},yq:function(){return s}});let s=["g","h","p","_","E","v","x","J","M","b","F","v","K","g","B","w","r","g","L","N","2","5","H","Y","o","1","v","n","g","R","9","4","9","4","2","d","P","p","F","p"],a="https://api.github.com",l="https://github.com",i="hankliu62",o="hankliu62.github.com",r="2022-11-28"},98640:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return S},default:function(){return D}});var s=n(85893),a=n(67337),l=n(65184),i=n(87547),o=n(24019),r=n(70801),c=n(233),u=n(74293),d=n(22377),f=n(77278),p=n(79912),h=n(94184),m=n.n(h),v=n(27484),x=n.n(v),j=n(11163),g=n(67294),b=n(98165),N=n(56537);function y(){return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(b.Z,{spin:!0,className:"text-lg text-[#1677ff]",rev:void 0})})}var _=function(e){let{className:t,style:n,visible:a=!0,disabled:l=!1,indicator:i=(0,s.jsx)(y,{}),onEnter:o,...r}=e;return a?(0,s.jsxs)("div",{className:m()("py-3 text-center",t),style:n,children:[l?null:(0,s.jsx)(N.h,{...r,onEnter:e=>{!l&&o&&o(e)}}),i]}):null},w=n(37172),k=function(e,t){(0,g.useEffect)(()=>{e()},t)},Z=n(94301),C=n.n(Z);let P=w.yq.join(""),E=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(w.oz,"/repos/").concat(w.h2,"/").concat(w.$o,"/issues");for(let s in n+="?creator=".concat(w.h2,"&per_page=30&page=").concat(e||1),t)Object.prototype.hasOwnProperty.call(t,s)&&(n+="&".concat(s,"=").concat(t[s]));return C()(n,{headers:{"X-GitHub-Api-Version":w.ou,Authorization:"Bearer ".concat(P)}}).then(e=>e.json())},q=e=>{let{icon:t,text:n,onClick:a}=e;return(0,s.jsxs)(c.Z,{onClick:a||(()=>{}),children:[g.createElement(t),n]})};var S=!0;function D(e){let{labels:t}=e,n=(0,j.useRouter)(),[h,v]=(0,g.useState)(n.query.label),[b,N]=(0,g.useState)(!0),[y,Z]=(0,g.useState)(!1),[C,P]=(0,g.useState)(!0),[S,D]=(0,g.useState)([]),[I,z]=(0,g.useState)(1);k(async()=>{Y(1,n.query.label)},[]);let Y=async(e,t)=>{Z(!0),1===e&&P(!1),console.log("fetch issues",e,t);let n=await E(e,{labels:["interview questions",t].filter(Boolean).join(",")});Z(!1),z(e),1===e?D(n):D(e=>[...e,...n||[]]),(null==n?void 0:n.length)===0&&P(!0)},H=e=>{v(null==e?void 0:e.name),Y(1,null==e?void 0:e.name);let t=e?{...n.query,label:e.name}:{...n.query};e||delete t.label,n.replace({pathname:n.pathname,query:t})},M=(0,g.useCallback)(()=>{Y(I+1,h)},[I,h]);return(0,s.jsxs)("div",{className:"flex space-x-6 bg-white p-6",children:[(0,s.jsx)("div",{className:"w-64",children:(0,s.jsx)(u.Z,{defaultActiveKey:["labels"],onChange:e=>{N(e.includes("labels"))},expandIconPosition:"end",items:[{key:"labels",label:(0,s.jsx)("span",{className:"cursor-pointer text-base font-bold underline-offset-2 hover:text-[#1171ee] hover:underline",onClick:e=>{(null==e?void 0:e.preventDefault)&&e.preventDefault(),(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),H()},"aria-hidden":"true",children:"标签"}),children:(0,s.jsx)("div",{children:(t||[]).map(e=>(0,s.jsxs)("div",{className:m()("group flex space-x-4 rounded-md p-2 hover:cursor-pointer hover:bg-[#f7f8fa]",{"bg-[#eaf2ff] hover:bg-[#eaf2ff]":e.name===h}),onClick:()=>H(e),"aria-hidden":"true",children:[(0,s.jsx)("div",{className:"flex flex-col justify-center",children:(0,s.jsx)(a.Z,{rev:void 0,style:{color:"#".concat(e.color)},className:"text-lg font-medium"})}),(0,s.jsx)("div",{className:m()("text-base font-normal text-[#515767] group-hover:text-[#1171ee]",{"text-[#1e80ff] group-hover:text-[#1e80ff]":e.name===h}),children:e.title})]},e.id))}),extra:(0,s.jsx)("div",{className:"-mr-2",children:b?"收起":"展开"})}]})}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,s.jsxs)(d.Z,{size:"small",className:"issues-card min-h-full !border-[#d9d9d9]",children:[(0,s.jsx)(f.Z,{className:"issues-list",itemLayout:"vertical",size:"large",pagination:!1,dataSource:S,loading:y,renderItem:e=>(0,s.jsxs)(f.Z.Item,{className:"cursor-pointer rounded-md hover:bg-[#f6f8fa]",actions:[(0,s.jsxs)(c.Z,{onClick:t=>{(null==t?void 0:t.stopPropagation)&&t.stopPropagation(),(null==t?void 0:t.preventDefault)&&t.preventDefault(),window.open("".concat(w.CI,"/").concat(w.h2,"/").concat(w.$o,"/issues/").concat(e.number),"_blank")},className:"group cursor-pointer",children:[(0,s.jsx)(l.Z,{className:"group-hover:text-[#1171ee]",rev:void 0}),(0,s.jsx)("span",{className:"group-hover:text-[#1171ee]",children:"#".concat(e.number)})]},"list-vertical-id"),(0,s.jsxs)(c.Z,{onClick:t=>{(null==t?void 0:t.stopPropagation)&&t.stopPropagation(),(null==t?void 0:t.preventDefault)&&t.preventDefault(),window.open("".concat(w.CI,"/").concat(e.assignee.login),"_blank")},className:"group cursor-pointer",children:[(0,s.jsx)(i.Z,{className:"group-hover:text-[#1171ee]",rev:void 0}),(0,s.jsx)("span",{className:"group-hover:text-[#1171ee]",children:e.assignee.login})]},"list-vertical-user"),(0,s.jsx)(q,{icon:o.Z,text:x()(e.created_at).format("YYYY-MM-DD HH:mm:ss")},"list-vertical-time"),(0,s.jsx)(q,{icon:r.Z,text:e.state},"list-vertical-status")],onClick:()=>{n.push({pathname:"".concat(n.pathname,"/").concat(e.number)})},children:[(0,s.jsx)(f.Z.Item.Meta,{className:"!mb-0",title:(0,s.jsxs)("div",{className:"flex items-center justify-start space-x-2",children:[(0,s.jsx)("div",{className:"issue-title underline-offset-2",children:e.title}),(0,s.jsx)("div",{className:"flex items-center justify-start",children:e.labels.map(e=>(0,s.jsx)(p.Z,{color:"#".concat(e.color),children:e.name},e.id))})]})}),(0,s.jsx)("div",{className:"truncate empty:hidden",children:e.body||""})]},e.id)}),(0,s.jsx)(_,{className:m()({invisible:1===I}),disabled:y,visible:!C,onEnter:M})]})})]})}}},function(e){e.O(0,[6323,9220,3768,9691,4006,5861,8652,399,205,9774,2888,179],function(){return e(e.s=99204)}),_N_E=e.O()}]);