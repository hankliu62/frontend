(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2971],{99204:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions",function(){return n(24772)}])},13274:function(e,t,n){"use strict";var s=n(85893),a=n(98165),r=n(94184),l=n.n(r);n(67294);var o=n(56537);function i(){return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(a.Z,{spin:!0,className:"text-lg text-[#1677ff]",rev:void 0})})}t.Z=function(e){let{className:t,style:n,visible:a=!0,disabled:r=!1,indicator:c=(0,s.jsx)(i,{}),onEnter:u,...d}=e;return a?(0,s.jsxs)("div",{className:l()("py-3 text-center",t),style:n,children:[r?null:(0,s.jsx)(o.h,{...d,onEnter:e=>{!r&&u&&u(e)}}),c]}):null}},37172:function(e,t,n){"use strict";n.d(t,{CH:function(){return u},CI:function(){return o},JY:function(){return a},SN:function(){return r},h2:function(){return i},ou:function(){return d},oz:function(){return l},x_:function(){return c}});var s=n(34155);let a=["g","h","p","_","Y","x","6","S","E","W","5","y","c","9","f","A","N","a","A","G","7","t","o","d","Q","L","Y","5","W","S","V","X","p","I","4","J","0","v","k","5"],r=[...s.env.NEXT_GITHUB_BACKEND_TOKEN||""],l="https://api.github.com",o="https://github.com",i="hankliu62",c="hankliu62.github.com",u="interview",d="2022-11-28"},21694:function(e,t,n){"use strict";var s=n(67294);t.Z=function(e,t){(0,s.useEffect)(()=>{e()},t)}},9074:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var s=n(94301),a=n.n(s),r=n(37172);let l=r.JY.join(""),o=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="".concat(r.oz,"/repos/").concat(r.h2,"/").concat(e,"/issues");for(let e in console.log(r.JY,r.SN,"----------------"),s+="?creator=".concat(r.h2,"&per_page=10&page=").concat(t||1),n)Object.prototype.hasOwnProperty.call(n,e)&&(s+="&".concat(e,"=").concat(n[e]));return a()(s,{headers:{"X-GitHub-Api-Version":r.ou,Authorization:"Bearer ".concat(l)}}).then(e=>e.json())}},24772:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return C}});var s=n(85893),a=n(67337),r=n(65184),l=n(87547),o=n(24019),i=n(70801),c=n(233),u=n(67966),d=n(74293),f=n(22377),p=n(77278),h=n(79912),x=n(94184),m=n.n(x),v=n(27484),j=n.n(v),N=n(11163),g=n(67294),b=n(13274),y=n(37172),_=n(21694),Z=n(9074);let k=e=>{let{icon:t,text:n,onClick:a}=e;return(0,s.jsxs)(c.Z,{onClick:a||(()=>{}),children:[g.createElement(t),n]})};var w=!0;function C(e){let{labels:t}=e,n=(0,N.useRouter)(),[x,v]=(0,g.useState)(n.query.label),[w,C]=(0,g.useState)(!0),[E,S]=(0,g.useState)(!1),[P,D]=(0,g.useState)(!0),[I,Y]=(0,g.useState)([]),[q,H]=(0,g.useState)(1);(0,_.Z)(async()=>{A(1,n.query.label)},[]);let A=async(e,t)=>{S(!0),1===e&&D(!1),console.log("fetch issues",e,t);let n=await (0,Z.W)(y.CH,e,{labels:[t].filter(Boolean).join(",")});S(!1),H(e),1===e?Y(n):Y(e=>[...e,...n||[]]),(null==n?void 0:n.length)===0&&D(!0)},T=e=>{v(null==e?void 0:e.name),A(1,null==e?void 0:e.name);let t=e?{...n.query,label:e.name}:{...n.query};e||delete t.label,n.replace({pathname:n.pathname,query:t})},z=(0,g.useCallback)(()=>{A(q+1,x)},[q,x]);return(0,s.jsxs)("div",{className:"flex space-x-6 bg-white p-6",children:[(0,s.jsx)("div",{className:"w-64",children:(0,s.jsx)(u.Z,{offsetTop:24,children:(0,s.jsx)(d.Z,{className:"questions-collapse",defaultActiveKey:["labels"],onChange:e=>{C(e.includes("labels"))},expandIconPosition:"end",items:[{key:"labels",label:(0,s.jsx)("span",{className:"cursor-pointer text-base font-bold underline-offset-2 hover:text-[#1171ee] hover:underline",onClick:e=>{(null==e?void 0:e.preventDefault)&&e.preventDefault(),(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),T()},"aria-hidden":"true",children:"标签"}),children:(0,s.jsx)("div",{className:"max-h-[620px] overflow-y-auto p-[16px]",children:(t||[]).map(e=>(0,s.jsxs)("div",{className:m()("group flex space-x-4 rounded-md p-2 hover:cursor-pointer hover:bg-[#f7f8fa]",{"bg-[#eaf2ff] hover:bg-[#eaf2ff]":e.name===x}),onClick:()=>T(e),"aria-hidden":"true",children:[(0,s.jsx)("div",{className:"flex flex-col justify-center",children:(0,s.jsx)(a.Z,{rev:void 0,style:{color:"#".concat(e.color)},className:"text-lg font-medium"})}),(0,s.jsx)("div",{className:m()("text-base font-normal text-[#515767] group-hover:text-[#1171ee]",{"text-[#1e80ff] group-hover:text-[#1e80ff]":e.name===x}),children:e.title})]},e.id))}),extra:(0,s.jsx)("div",{className:"-mr-2",children:w?"收起":"展开"})}]})})}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,s.jsxs)(f.Z,{size:"small",className:"issues-card min-h-full !border-[#d9d9d9]",children:[(0,s.jsx)(p.Z,{className:"issues-list",itemLayout:"vertical",size:"large",pagination:!1,dataSource:I,loading:E,renderItem:e=>(0,s.jsxs)(p.Z.Item,{className:"cursor-pointer rounded-md hover:bg-[#f6f8fa]",actions:[(0,s.jsxs)(c.Z,{onClick:t=>{(null==t?void 0:t.stopPropagation)&&t.stopPropagation(),(null==t?void 0:t.preventDefault)&&t.preventDefault(),window.open("".concat(y.CI,"/").concat(y.h2,"/").concat(y.CH,"/issues/").concat(e.number),"_blank")},className:"group cursor-pointer",children:[(0,s.jsx)(r.Z,{className:"group-hover:text-[#1171ee]",rev:void 0}),(0,s.jsx)("span",{className:"group-hover:text-[#1171ee]",children:"#".concat(e.number)})]},"list-vertical-id"),(0,s.jsxs)(c.Z,{onClick:t=>{(null==t?void 0:t.stopPropagation)&&t.stopPropagation(),(null==t?void 0:t.preventDefault)&&t.preventDefault(),window.open("".concat(y.CI,"/").concat(e.user.login),"_blank")},className:"group cursor-pointer",children:[(0,s.jsx)(l.Z,{className:"group-hover:text-[#1171ee]",rev:void 0}),(0,s.jsx)("span",{className:"group-hover:text-[#1171ee]",children:e.user.login})]},"list-vertical-user"),(0,s.jsx)(k,{icon:o.Z,text:j()(e.created_at).format("YYYY-MM-DD HH:mm:ss")},"list-vertical-time"),(0,s.jsx)(k,{icon:i.Z,text:e.state},"list-vertical-status")],onClick:()=>{n.push({pathname:"".concat(n.pathname,"/").concat(e.number)})},children:[(0,s.jsx)(p.Z.Item.Meta,{className:"!mb-0",title:(0,s.jsxs)("div",{className:"flex items-center justify-start space-x-2",children:[(0,s.jsx)("div",{className:"issue-title underline-offset-2",children:e.title}),(0,s.jsx)("div",{className:"flex items-center justify-start",children:e.labels.map(e=>(0,s.jsx)(h.Z,{color:"#".concat(e.color),children:e.name},e.id))})]})}),(0,s.jsx)("div",{className:"truncate empty:hidden",children:e.body||""})]},e.id)}),(0,s.jsx)(b.Z,{className:m()({invisible:1===q}),disabled:E,visible:!P,onEnter:z})]})})]})}}},function(e){e.O(0,[6396,4006,5861,8490,2555,2593,3452,9774,2888,179],function(){return e(e.s=99204)}),_N_E=e.O()}]);